<!doctype html>
<html lang="en-us">
  <head>
    <title>Gin&#43;vue2博客笔记（前端） // abin の 成长之路</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.89.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="abin" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.88e7083eff65effb7485b6e6f38d10afbec25093a6fac42d734ce9024d3defbd.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Gin&#43;vue2博客笔记（前端）"/>
<meta name="twitter:description" content="gin&#43;vue2博客笔记（前端） 写在前面 记录一下，这个是一个博客系统，后端使用的是gin框架编写；前端包含管理页面和前台展示页面，使用的是vue2版本；
参考的是B站的一位大佬的视频：
 https://www.bilibili.com/video/BV1AA411v7e6
 管理页面 搭建环境 使用的环境：
 npm : 6.14.17
node : 14.20.0
yarn : 1.22.19
vue/cli : 5.0.8
 1、vue create admin 使用脚手架创建管理页面的项目
2、ui框架使用的是ant-design-vue；yarn add ant-design-vue
修改脚手架默认页面 1、删除App.vue原先的内容，修改如下：
&lt;template&gt; &lt;a-config-provider :locale=&#34;locale&#34;&gt; &lt;div id=&#34;app&#34;&gt; &lt;router-view/&gt; &lt;/div&gt; &lt;/a-config-provider&gt; &lt;/template&gt; &lt;script&gt; import zhCN from &#39;ant-design-vue/lib/locale-provider/zh_CN&#39; export default { data () { return { locale: zhCN } } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt; 2、修改main.js
import Vue from &#39;vue&#39; import App from &#39;."/>

    <meta property="og:title" content="Gin&#43;vue2博客笔记（前端）" />
<meta property="og:description" content="gin&#43;vue2博客笔记（前端） 写在前面 记录一下，这个是一个博客系统，后端使用的是gin框架编写；前端包含管理页面和前台展示页面，使用的是vue2版本；
参考的是B站的一位大佬的视频：
 https://www.bilibili.com/video/BV1AA411v7e6
 管理页面 搭建环境 使用的环境：
 npm : 6.14.17
node : 14.20.0
yarn : 1.22.19
vue/cli : 5.0.8
 1、vue create admin 使用脚手架创建管理页面的项目
2、ui框架使用的是ant-design-vue；yarn add ant-design-vue
修改脚手架默认页面 1、删除App.vue原先的内容，修改如下：
&lt;template&gt; &lt;a-config-provider :locale=&#34;locale&#34;&gt; &lt;div id=&#34;app&#34;&gt; &lt;router-view/&gt; &lt;/div&gt; &lt;/a-config-provider&gt; &lt;/template&gt; &lt;script&gt; import zhCN from &#39;ant-design-vue/lib/locale-provider/zh_CN&#39; export default { data () { return { locale: zhCN } } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt; 2、修改main.js
import Vue from &#39;vue&#39; import App from &#39;." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/note/go/gin&#43;vue2%E5%8D%9A%E5%AE%A2%E7%AC%94%E8%AE%B0%E5%89%8D%E7%AB%AF/" /><meta property="article:section" content="note" />
<meta property="article:published_time" content="2022-08-14T23:44:09+08:00" />
<meta property="article:modified_time" content="2022-08-14T23:44:09+08:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="/"><img class="app-header-avatar" src="/avatar.jpg" alt="abin" /></a>
      <h1>abin の 成长之路</h1>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/">首页</a>
             - 
          
          <a class="app-header-menu-item" href="/note/">笔记</a>
             - 
          
          <a class="app-header-menu-item" href="/tecs/">学习</a>
      </nav>
      <p>冉冉升起的小code神</p>
      <div class="app-header-social">
        
          <a href="https://github.com/kevinbin123" target="_blank" rel="noreferrer noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>Github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
          <a href="http://ecoder.xyz:520/" target="_blank" rel="noreferrer noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-cloud">
  <title>mySite</title>
  <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Gin&#43;vue2博客笔记（前端）</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Aug 14, 2022
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          33 min read
        </div>
      </div>
    </header>
    <div class="post-content">
      <h1 id="ginvue2博客笔记前端">gin+vue2博客笔记（前端）</h1>
<h2 id="写在前面">写在前面</h2>
<p>记录一下，这个是一个博客系统，后端使用的是gin框架编写；前端包含管理页面和前台展示页面，使用的是vue2版本；</p>
<p>参考的是B站的一位大佬的视频：</p>
<blockquote>
<p><a href="https://www.bilibili.com/video/BV1AA411v7e6">https://www.bilibili.com/video/BV1AA411v7e6</a></p>
</blockquote>
<h2 id="管理页面">管理页面</h2>
<h3 id="搭建环境">搭建环境</h3>
<p>使用的环境：</p>
<blockquote>
<p>npm : 6.14.17</p>
<p>node : 14.20.0</p>
<p>yarn : 1.22.19</p>
<p>vue/cli : 5.0.8</p>
</blockquote>
<p>1、<code>vue create admin</code> 使用脚手架创建管理页面的项目</p>
<p>2、ui框架使用的是<code>ant-design-vue</code>；<code>yarn add ant-design-vue</code></p>
<h3 id="修改脚手架默认页面">修改脚手架默认页面</h3>
<p>1、删除<code>App.vue</code>原先的内容，修改如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">a-config-provider</span> <span style="color:#f92672">:locale</span><span style="color:#e6db74">=&#34;locale&#34;</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
      &lt;<span style="color:#f92672">router-view</span>/&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
  <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-config-provider&gt;</span>
&lt;/<span style="color:#f92672">template</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">zhCN</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;ant-design-vue/lib/locale-provider/zh_CN&#39;</span>
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">locale</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">zhCN</span>
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">style</span>&gt;

&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>2、修改<code>main.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">App</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./App.vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">router</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;./plugin/http&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;./plugin/antui&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;./assets/style.css&#39;</span>

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">productionTip</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>

<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
  <span style="color:#a6e22e">router</span>,
  <span style="color:#a6e22e">render</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">h</span> =&gt; <span style="color:#a6e22e">h</span>(<span style="color:#a6e22e">App</span>)
}).<span style="color:#a6e22e">$mount</span>(<span style="color:#e6db74">&#39;#app&#39;</span>)

</code></pre></div><p>3、重置默认css，添加<code>src/assets/style.css</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#f92672">import</span> <span style="color:#f92672">Vue</span> <span style="color:#f92672">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#f92672">import</span> <span style="color:#f92672">App</span> <span style="color:#f92672">from</span> <span style="color:#e6db74">&#39;./App.vue&#39;</span>
<span style="color:#f92672">import</span> <span style="color:#f92672">router</span> <span style="color:#f92672">from</span> <span style="color:#e6db74">&#39;./router&#39;</span>
<span style="color:#f92672">import</span> <span style="color:#e6db74">&#39;./plugin/http&#39;</span>
<span style="color:#f92672">import</span> <span style="color:#e6db74">&#39;./plugin/antui&#39;</span>
<span style="color:#f92672">import</span> <span style="color:#e6db74">&#39;./assets/style.css&#39;</span>

<span style="color:#f92672">Vue</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">productionTip</span> <span style="color:#f92672">=</span> <span style="color:#f92672">false</span>

<span style="color:#f92672">new</span> <span style="color:#f92672">Vue</span><span style="color:#f92672">(</span>{
  <span style="color:#960050;background-color:#1e0010">router,</span>
  render: h <span style="color:#f92672">=&gt;</span> h(App)
}<span style="color:#f92672">).$</span><span style="color:#f92672">mount</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;#app&#39;</span><span style="color:#f92672">)</span>
</code></pre></div><h3 id="封装功能">封装功能</h3>
<p>1、封装axios；创建<code>src/plugin/http.js</code></p>
<blockquote>
<p>更多拦截器功能参考：</p>
<p><a href="https://www.axios-http.cn/docs/interceptors">https://www.axios-http.cn/docs/interceptors</a></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">axios</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;axios&#39;</span>

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Url</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;http://localhost:3000/api/v1&#39;</span>

<span style="color:#a6e22e">axios</span>.<span style="color:#a6e22e">defaults</span>.<span style="color:#a6e22e">baseURL</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Url</span>

<span style="color:#a6e22e">axios</span>.<span style="color:#a6e22e">interceptors</span>.<span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">config</span> =&gt; {
  <span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">headers</span>.<span style="color:#a6e22e">Authorization</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`Bearer </span><span style="color:#e6db74">${</span>window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;token&#39;</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">config</span>
})
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">$http</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">axios</span>

<span style="color:#66d9ef">export</span> { <span style="color:#a6e22e">Url</span> }
</code></pre></div><p>2、按需导入<code>ant-design-vue</code> ; 创建<code>src/plugin/antui.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> {
  <span style="color:#a6e22e">Button</span>,
  <span style="color:#a6e22e">FormModel</span>,
  <span style="color:#a6e22e">Input</span>,
  <span style="color:#a6e22e">Icon</span>,
  <span style="color:#a6e22e">message</span>,
  <span style="color:#a6e22e">Layout</span>,
  <span style="color:#a6e22e">Menu</span>,
  <span style="color:#a6e22e">Card</span>,
  <span style="color:#a6e22e">Table</span>,
  <span style="color:#a6e22e">Col</span>,
  <span style="color:#a6e22e">Row</span>,
  <span style="color:#a6e22e">ConfigProvider</span>,
  <span style="color:#a6e22e">Modal</span>,
  <span style="color:#a6e22e">Switch</span>,
  <span style="color:#a6e22e">Select</span>,
  <span style="color:#a6e22e">Upload</span>
} <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;ant-design-vue&#39;</span>

<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">config</span>({
  <span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;60px&#39;</span>,
  <span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span>,
  <span style="color:#a6e22e">maxCount</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>
})

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">$message</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">message</span>
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">$confirm</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Modal</span>.<span style="color:#a6e22e">confirm</span>
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Button</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">FormModel</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Input</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Icon</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Layout</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Menu</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Card</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Table</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Col</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Row</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">ConfigProvider</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Modal</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Switch</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Select</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Upload</span>)
</code></pre></div><p>3、设置路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>


<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> []

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#a6e22e">routes</span>
})
<span style="color:#75715e">// 设置路由守卫
</span><span style="color:#75715e"></span><span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;token&#39;</span>)
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">path</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;/login&#39;</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">next</span>()
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">token</span>) {
    <span style="color:#a6e22e">next</span>(<span style="color:#e6db74">&#39;/login&#39;</span>)
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">next</span>()
  }
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><h3 id="登录功能">登录功能</h3>
<p>1、创建<code>src/views/LogIn.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;container&#34;</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;loginBox&#34;</span>&gt;
      &lt;<span style="color:#f92672">a-form-model</span> <span style="color:#f92672">:model</span><span style="color:#e6db74">=&#34;formdata&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;loginForm&#34;</span> <span style="color:#f92672">:rules</span><span style="color:#e6db74">=&#34;rules&#34;</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;loginFormRef&#34;</span>&gt;
        &lt;<span style="color:#f92672">a-form-model-item</span> <span style="color:#a6e22e">prop</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;username&#34;</span>&gt;
          &lt;<span style="color:#f92672">a-input</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;formdata.username&#34; placeholder=&#34;请输入用户名&#34;&gt;
</span><span style="color:#e6db74">            &lt;a-icon slot=&#34;prefix&#34; type=&#34;user&#34; style=&#34;color:rgba(0,0,0,.25)&#34; /&gt;
</span><span style="color:#e6db74">          &lt;/a-input&gt;
</span><span style="color:#e6db74">        &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">        &lt;a-form-model-item prop=&#34;password&#34;&gt;
</span><span style="color:#e6db74">          &lt;a-input  v-model=&#34;formdata.password&#34; placeholder=&#34;请输入密码&#34; type=&#34;password&#34; v-on:keyup.enter=&#34;login&#34;&gt;
</span><span style="color:#e6db74">            &lt;a-icon slot=&#34;prefix&#34; type=&#34;lock&#34; style=&#34;color:rgba(0,0,0,.25)&#34; /&gt;
</span><span style="color:#e6db74">          &lt;/a-input&gt;
</span><span style="color:#e6db74">        &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">        &lt;a-form-model-item class=&#34;loginBtn&#34;&gt;
</span><span style="color:#e6db74">          &lt;a-button type=&#34;primary&#34; style=&#34;margin:10px&#34; @click=&#34;login&#34;&gt;登录&lt;/a-button&gt;
</span><span style="color:#e6db74">          &lt;a-button type=&#34;info&#34; style=&#34;margin:10px&#34; @click=&#34;resetForm&#34;</span>&gt;<span style="color:#a6e22e">取消</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-button</span>&gt;
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model-item&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model&gt;</span>
    &lt;/<span style="color:#f92672">div</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">formdata</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">password</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>
      },
      <span style="color:#a6e22e">rules</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> [
          { <span style="color:#a6e22e">required</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;请输入用户名&#39;</span>, <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span> },
          { <span style="color:#a6e22e">min</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">4</span>, <span style="color:#a6e22e">max</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">12</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;用户名必须在4到12个字符之间&#39;</span>, <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span> }
        ],
        <span style="color:#a6e22e">password</span><span style="color:#f92672">:</span> [
          { <span style="color:#a6e22e">required</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;请输入密码&#39;</span>, <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span> },
          { <span style="color:#a6e22e">min</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">6</span>, <span style="color:#a6e22e">max</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">20</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;密码长度必须在6到20个字符之间&#39;</span>, <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span> }
        ]
      }
    }
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">resetForm</span> () {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">loginFormRef</span>.<span style="color:#a6e22e">resetFields</span>()
    },
    <span style="color:#a6e22e">login</span> () {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">loginFormRef</span>.<span style="color:#a6e22e">validate</span>(<span style="color:#a6e22e">async</span> (<span style="color:#a6e22e">valid</span>) =&gt; {
        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">valid</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;输入非法数据，请重新输入&#39;</span>)
        <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;login&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">formdata</span>)
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
        window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#39;token&#39;</span>, <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">token</span>)
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">&#39;/index&#39;</span>)
      })
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;
.<span style="color:#a6e22e">container</span>{
  <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
  <span style="color:#a6e22e">background</span><span style="color:#f92672">-</span><span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">282</span><span style="color:#a6e22e">c34</span>;
}
.<span style="color:#a6e22e">loginBox</span>{
  <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">450</span><span style="color:#a6e22e">px</span>;
  <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">350</span><span style="color:#a6e22e">px</span>;
  <span style="color:#a6e22e">background</span><span style="color:#f92672">-</span><span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">fff</span>;
  <span style="color:#a6e22e">position</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">absolute</span>;
  <span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">50</span><span style="color:#f92672">%</span>;
  <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">70</span><span style="color:#f92672">%</span>;
  <span style="color:#a6e22e">transform</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">translate</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">50</span><span style="color:#f92672">%</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">50</span><span style="color:#f92672">%</span>);
  <span style="color:#a6e22e">border</span><span style="color:#f92672">-</span><span style="color:#a6e22e">radius</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">9</span><span style="color:#a6e22e">px</span>;
}
.<span style="color:#a6e22e">loginForm</span>{
  <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
  <span style="color:#a6e22e">position</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">absolute</span>;
  <span style="color:#a6e22e">bottom</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">%</span>;
  <span style="color:#a6e22e">padding</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">20</span><span style="color:#a6e22e">px</span>;
  <span style="color:#a6e22e">box</span><span style="color:#f92672">-</span><span style="color:#a6e22e">sizing</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">border</span><span style="color:#f92672">-</span><span style="color:#a6e22e">box</span>;
}
.<span style="color:#a6e22e">loginBtn</span>{
  <span style="color:#a6e22e">display</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">flex</span>;
  <span style="color:#a6e22e">justify</span><span style="color:#f92672">-</span><span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">flex</span><span style="color:#f92672">-</span><span style="color:#a6e22e">end</span>;
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>2、修改路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Login</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../views/LogIn.vue&#39;</span>

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/login&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;login&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Login</span>
  }
]

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#a6e22e">routes</span>
})

<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;token&#39;</span>)
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">path</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;/login&#39;</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">next</span>()
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">token</span>) {
    <span style="color:#a6e22e">next</span>(<span style="color:#e6db74">&#39;/login&#39;</span>)
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">next</span>()
  }
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><h3 id="后台管理界面">后台管理界面</h3>
<p>1、创建<code>src/views/AdminPage.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">a-layout</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;container&#34;</span>&gt;
    &lt;<span style="color:#f92672">Nav</span>&gt;&lt;/<span style="color:#f92672">Nav</span>&gt;
    &lt;<span style="color:#f92672">a-layout</span>&gt;
      &lt;<span style="color:#f92672">a-layout-header</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;headerBtn&#34;</span>&gt;
        &lt;<span style="color:#f92672">Header</span>&gt;&lt;/<span style="color:#f92672">Header</span>&gt;
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-layout-header&gt;</span>
      &lt;<span style="color:#f92672">a-layout-content</span>&gt;
        &lt;<span style="color:#f92672">router-view</span> <span style="color:#f92672">:key</span><span style="color:#e6db74">=&#34;$route.fullPath&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/router-view&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-layout-content&gt;</span>
      &lt;<span style="color:#f92672">a-layout-footer</span>&gt;
        &lt;<span style="color:#f92672">Footer</span>&gt;&lt;/<span style="color:#f92672">Footer</span>&gt;
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-layout-footer&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-layout&gt;</span>
  <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-layout&gt;</span>
&lt;/<span style="color:#f92672">template</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Nav</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/admin/AdminNav&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Footer</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/admin/AdminFooter&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Header</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/admin/AdminHeader&#39;</span>
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">components</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">Nav</span>, <span style="color:#a6e22e">Footer</span>, <span style="color:#a6e22e">Header</span> }
}

&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;
.<span style="color:#a6e22e">container</span>{
  <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span><span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
}
.<span style="color:#a6e22e">headerBtn</span>{
  <span style="color:#a6e22e">display</span><span style="color:#f92672">:</span><span style="color:#a6e22e">flex</span>;
  <span style="color:#a6e22e">justify</span><span style="color:#f92672">-</span><span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">flex</span><span style="color:#f92672">-</span><span style="color:#a6e22e">end</span>;
  <span style="color:#a6e22e">align</span><span style="color:#f92672">-</span><span style="color:#a6e22e">items</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">center</span>;
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>2、创建头部<code>src/components/admin/AdminHeader.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">a-button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;danger&#34;</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;loginOut&#34;</span>&gt;<span style="color:#a6e22e">退出</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-button</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">loginOut</span> () {
      window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">clear</span>(<span style="color:#e6db74">&#39;token&#39;</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">&#39;/login&#39;</span>)
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;

&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>3、创建左侧导航<code>src/components/admin/AdminNav.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">a-layout-sider</span> <span style="color:#a6e22e">breakpoint</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;lg&#34;</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;collapsed&#34;</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;logo&#34;</span>&gt;
      &lt;<span style="color:#f92672">span</span>&gt;{{<span style="color:#a6e22e">collapsed</span><span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;Blog&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;My Blog&#34;</span>}}&lt;/<span style="color:#f92672">span</span>&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">a-menu</span> <span style="color:#a6e22e">theme</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dark&#34;</span> <span style="color:#a6e22e">mode</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;inline&#34;</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;gotoPage&#34;</span>&gt;
      &lt;<span style="color:#f92672">a-menu-item</span> <span style="color:#a6e22e">key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;index&#34;</span>&gt;&lt;<span style="color:#f92672">a-icon</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dashboard&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-icon&gt;&lt;span&gt;仪表盘&lt;/span&gt;&lt;/a-menu-item&gt;</span>
      &lt;<span style="color:#f92672">a-sub-menu</span> &gt;
        &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;title&#34;</span>&gt;&lt;<span style="color:#f92672">a-icon</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;file&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-icon&gt;&lt;span&gt;文章管理&lt;/span&gt;&lt;/span&gt;</span>
        &lt;<span style="color:#f92672">a-menu-item</span> <span style="color:#a6e22e">key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;addart&#34;</span>&gt;&lt;<span style="color:#f92672">a-icon</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;form&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-icon&gt;&lt;span&gt;写文章&lt;/span&gt;&lt;/a-menu-item&gt;</span>
        &lt;<span style="color:#f92672">a-menu-item</span> <span style="color:#a6e22e">key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;artlist&#34;</span>&gt;&lt;<span style="color:#f92672">a-icon</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;snippets&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-icon&gt;&lt;span&gt;文章列表&lt;/span&gt;&lt;/a-menu-item&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-sub-menu&gt;</span>
      &lt;<span style="color:#f92672">a-menu-item</span> <span style="color:#a6e22e">key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;commentlist&#34;</span>&gt;&lt;<span style="color:#f92672">a-icon</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;message&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-icon&gt;&lt;span&gt;评论管理&lt;/span&gt;&lt;/a-menu-item&gt;</span>
      &lt;<span style="color:#f92672">a-menu-item</span> <span style="color:#a6e22e">key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;catelist&#34;</span>&gt;&lt;<span style="color:#f92672">a-icon</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;book&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-icon&gt;&lt;span&gt;分类列表&lt;/span&gt;&lt;/a-menu-item&gt;</span>
      &lt;<span style="color:#f92672">a-menu-item</span> <span style="color:#a6e22e">key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;userlist&#34;</span>&gt;&lt;<span style="color:#f92672">a-icon</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;user&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-icon&gt;&lt;span&gt;用户列表&lt;/span&gt;&lt;/a-menu-item&gt;</span>
      &lt;<span style="color:#f92672">a-menu-item</span> <span style="color:#a6e22e">key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;profile&#34;</span>&gt;&lt;<span style="color:#f92672">a-icon</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;setting&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-icon&gt;&lt;span&gt;个人设置&lt;/span&gt;&lt;/a-menu-item&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-menu&gt;</span>
  <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-layout-sider&gt;</span>
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">collapsed</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
    }
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">gotoPage</span> (<span style="color:#a6e22e">item</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">&#39;/&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">key</span>).<span style="color:#66d9ef">catch</span>((<span style="color:#a6e22e">err</span>) =&gt; <span style="color:#a6e22e">err</span>)
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;
.<span style="color:#a6e22e">logo</span>{
  <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">32</span><span style="color:#a6e22e">px</span>;
  <span style="color:#a6e22e">margin</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">16</span><span style="color:#a6e22e">px</span>;
  <span style="color:#a6e22e">background</span><span style="color:#f92672">-</span><span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">fff</span>;
  <span style="color:#a6e22e">display</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">flex</span>;
  <span style="color:#a6e22e">justify</span><span style="color:#f92672">-</span><span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">center</span>;
  <span style="color:#a6e22e">align</span><span style="color:#f92672">-</span><span style="color:#a6e22e">items</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">center</span>;
  <span style="color:#a6e22e">font</span><span style="color:#f92672">-</span><span style="color:#a6e22e">size</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">17</span><span style="color:#a6e22e">px</span>;
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>4、创建底部<code>src/components/admin/AdminFooter.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;footer&#34;</span>&gt;
    &lt;<span style="color:#f92672">span</span>&gt;<span style="color:#960050;background-color:#1e0010">————————————</span> <span style="color:#a6e22e">GinBlog</span> <span style="color:#a6e22e">Admin</span> <span style="color:#960050;background-color:#1e0010">————————————</span>&lt;/<span style="color:#f92672">span</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;
.<span style="color:#a6e22e">footer</span>{
  <span style="color:#a6e22e">background</span><span style="color:#f92672">-</span><span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">eee</span>;
  <span style="color:#a6e22e">text</span><span style="color:#f92672">-</span><span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">center</span>;
  <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
}
.<span style="color:#a6e22e">footer</span> <span style="color:#a6e22e">span</span>{
  <span style="color:#a6e22e">font</span><span style="color:#f92672">-</span><span style="color:#a6e22e">size</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">18</span><span style="color:#a6e22e">px</span>;
  <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>5、修改路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Login</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../views/LogIn.vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Admin</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../views/AdminPage.vue&#39;</span>


<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/login&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;login&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Login</span>
  },
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;admin&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Admin</span>
  }
]

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#a6e22e">routes</span>
})

<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;token&#39;</span>)
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">path</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;/login&#39;</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">next</span>()
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">token</span>) {
    <span style="color:#a6e22e">next</span>(<span style="color:#e6db74">&#39;/login&#39;</span>)
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">next</span>()
  }
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><h3 id="添加子组件">添加子组件</h3>
<h4 id="添加管理界面的默认页面">添加管理界面的默认页面</h4>
<p>1、创建<code>src/components/admin/AdminIndex.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">h3</span>&gt;<span style="color:#a6e22e">欢迎来到GinBlog管理界面</span>&lt;/<span style="color:#f92672">h3</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
</code></pre></div><p>2、修改路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Login</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../views/LogIn.vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Admin</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../views/AdminPage.vue&#39;</span>

<span style="color:#75715e">// 页面路由组件
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Index</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/admin/AdminIndex&#39;</span>

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/login&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;login&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Login</span>
  },
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;admin&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Admin</span>,
    <span style="color:#a6e22e">children</span><span style="color:#f92672">:</span> [
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;index&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Index</span> }
    ]
  }
]

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#a6e22e">routes</span>
})

<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;token&#39;</span>)
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">path</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;/login&#39;</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">next</span>()
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">token</span>) {
    <span style="color:#a6e22e">next</span>(<span style="color:#e6db74">&#39;/login&#39;</span>)
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">next</span>()
  }
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><h4 id="添加用户管理页面">添加用户管理页面</h4>
<p>1、创建用户列表页面<code>src/components/user/UserList.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">h3</span>&gt;<span style="color:#a6e22e">用户列表页面</span>&lt;/<span style="color:#f92672">h3</span>&gt;
    &lt;<span style="color:#f92672">a-card</span>&gt;
      &lt;<span style="color:#f92672">a-row</span> <span style="color:#f92672">:gutter</span><span style="color:#e6db74">=&#34;20&#34;</span>&gt;
        &lt;<span style="color:#f92672">a-col</span> <span style="color:#f92672">:span</span><span style="color:#e6db74">=&#34;6&#34;</span>&gt;
          &lt;<span style="color:#f92672">a-input-search</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;queryParam.username&#34; placeholder=&#34;输入用户名查找&#34; enter-button allowClear @search=&#34;getUserList&#34; /&gt;
</span><span style="color:#e6db74">        &lt;/a-col&gt;
</span><span style="color:#e6db74">        &lt;a-col </span><span style="color:#f92672">:span</span><span style="color:#e6db74">=&#34;4&#34;</span>&gt;
          &lt;<span style="color:#f92672">a-button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;primary&#34;</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;addUserVisible = true&#34;</span>&gt;<span style="color:#a6e22e">新增</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-button&gt;</span>
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-col&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-row&gt;</span>
      &lt;<span style="color:#f92672">a-table</span> <span style="color:#a6e22e">rowKey</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;username&#34;</span> <span style="color:#f92672">:columns</span><span style="color:#e6db74">=&#34;columns&#34;</span> <span style="color:#f92672">:pagination</span><span style="color:#e6db74">=&#34;paginationOption&#34;</span> <span style="color:#f92672">:dataSource</span><span style="color:#e6db74">=&#34;userlist&#34;</span> <span style="color:#a6e22e">bordered</span> <span style="color:#f92672">@change</span><span style="color:#e6db74">=&#34;handleTableChange&#34;</span>&gt;
        &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;role&#34;</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">-scope</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">role</span><span style="color:#960050;background-color:#1e0010">&#34;</span>&gt;{{<span style="color:#a6e22e">role</span> <span style="color:#f92672">==</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;管理员&#39;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;订阅者&#39;</span>}}&lt;/<span style="color:#f92672">span</span>&gt;
        &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;action&#34;</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">-scope</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">data</span><span style="color:#960050;background-color:#1e0010">&#34;</span>&gt;
          &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;actionSlot&#34;</span>&gt;
            &lt;<span style="color:#f92672">a-button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;primary&#34;</span> <span style="color:#a6e22e">icon</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;margin-right:15px&#34;</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;editUser(data.ID)&#34;</span>&gt;<span style="color:#a6e22e">编辑</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-button</span>&gt;
            &lt;<span style="color:#f92672">a-button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;danger&#34;</span> <span style="color:#a6e22e">icon</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;delete&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;margin-right:15px&#34;</span>  <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;deleteUser(data.ID)&#34;</span>&gt;<span style="color:#a6e22e">删除</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-button</span>&gt;
            &lt;<span style="color:#f92672">a-button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;info&#34;</span> <span style="color:#a6e22e">icon</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;info&#34;</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;resetPwd(data.ID)&#34;</span>&gt;<span style="color:#a6e22e">重置</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-button</span>&gt;
          &lt;/<span style="color:#f92672">div</span>&gt;
        &lt;/<span style="color:#f92672">template</span>&gt;
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-table&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-card&gt;</span>
    <span style="color:#75715e">&lt;!--</span><span style="color:#a6e22e">新增用户区域</span><span style="color:#f92672">--&gt;</span>
    &lt;<span style="color:#f92672">a-modal</span>
      <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;新增用户&#34;</span>
      <span style="color:#f92672">:visible</span><span style="color:#e6db74">=&#34;addUserVisible&#34;</span>
      <span style="color:#f92672">@ok</span><span style="color:#e6db74">=&#34;addUserOk&#34;</span>
      <span style="color:#f92672">@cancel</span><span style="color:#e6db74">=&#34;addUserCancel&#34;</span>
      <span style="color:#a6e22e">destroyOnClose</span>
    &gt;
      &lt;<span style="color:#f92672">a-form-model</span> <span style="color:#f92672">:model</span><span style="color:#e6db74">=&#34;newUser&#34;</span> <span style="color:#f92672">:rules</span><span style="color:#e6db74">=&#34;addUserRules&#34;</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;addUserRef&#34;</span>&gt;
         &lt;<span style="color:#f92672">a-form-model-item</span> <span style="color:#a6e22e">has</span><span style="color:#f92672">-feedback</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;用户名&#34;</span> <span style="color:#a6e22e">prop</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;username&#34;</span>&gt;
           &lt;<span style="color:#f92672">a-input</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;newUser.username&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-input</span>&gt;
         <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model-item&gt;</span>
         &lt;<span style="color:#f92672">a-form-model-item</span> <span style="color:#a6e22e">has</span><span style="color:#f92672">-feedback</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;密码&#34;</span> <span style="color:#a6e22e">prop</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;password&#34;</span>&gt;
           &lt;<span style="color:#f92672">a-input-password</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;newUser.password&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-input-password</span>&gt;
         <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model-item&gt;</span>
         &lt;<span style="color:#f92672">a-form-model-item</span> <span style="color:#a6e22e">has</span><span style="color:#f92672">-feedback</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;确认密码&#34;</span> <span style="color:#a6e22e">prop</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkpasswd&#34;</span>&gt;
           &lt;<span style="color:#f92672">a-input-password</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;newUser.checkpasswd&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-input-password</span>&gt;
         <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model-item &gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-modal&gt;</span>
    <span style="color:#75715e">&lt;!--</span><span style="color:#a6e22e">编辑用户区域</span><span style="color:#f92672">--&gt;</span>
    &lt;<span style="color:#f92672">a-modal</span>
      <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;编辑用户&#34;</span>
      <span style="color:#f92672">:visible</span><span style="color:#e6db74">=&#34;editUserVisible&#34;</span>
      <span style="color:#f92672">@ok</span><span style="color:#e6db74">=&#34;editUserOk&#34;</span>
      <span style="color:#f92672">@cancel</span><span style="color:#e6db74">=&#34;editUserCancel&#34;</span>
    &gt;
      &lt;<span style="color:#f92672">a-form-model</span> <span style="color:#f92672">:model</span><span style="color:#e6db74">=&#34;userInfo&#34;</span> <span style="color:#f92672">:rules</span><span style="color:#e6db74">=&#34;userRules&#34;</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;editUserRef&#34;</span>&gt;
        &lt;<span style="color:#f92672">a-form-model-item</span> <span style="color:#a6e22e">has</span><span style="color:#f92672">-feedback</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;用户名&#34;</span> <span style="color:#a6e22e">prop</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;username&#34;</span>&gt;
          &lt;<span style="color:#f92672">a-input</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;userInfo.username&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-input</span>&gt;
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model-item&gt;</span>
        &lt;<span style="color:#f92672">a-form-model-item</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;是否为管理员&#34;</span>&gt;
          &lt;<span style="color:#f92672">a-switch</span> <span style="color:#a6e22e">checked</span><span style="color:#f92672">-children</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">是</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#a6e22e">un</span><span style="color:#f92672">-checked-children</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">否</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#f92672">@change</span><span style="color:#e6db74">=&#34;adminChange&#34;</span>  /&gt;
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model-item&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-modal&gt;</span>
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">columns</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ID&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ID&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;20%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;id&#39;</span>,
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;用户名&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;username&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;20%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;uersname&#39;</span>,
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;角色&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;role&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;20%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;role&#39;</span>,
    <span style="color:#a6e22e">scopedSlots</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">customRender</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;role&#39;</span> },
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;操作&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;30%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;action&#39;</span>,
    <span style="color:#a6e22e">scopedSlots</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">customRender</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;action&#39;</span> },
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  }
]
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">paginationOption</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">pageSizeOptions</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;5&#39;</span>, <span style="color:#e6db74">&#39;10&#39;</span>, <span style="color:#e6db74">&#39;20&#39;</span>],
        <span style="color:#a6e22e">pageSize</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
        <span style="color:#a6e22e">total</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
        <span style="color:#a6e22e">showSizeChanger</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
        <span style="color:#a6e22e">showTotal</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">total</span>) =&gt; <span style="color:#e6db74">`共</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">total</span><span style="color:#e6db74">}</span><span style="color:#e6db74">条`</span>
      },
      <span style="color:#a6e22e">userlist</span><span style="color:#f92672">:</span> [],
      <span style="color:#a6e22e">columns</span>,
      <span style="color:#a6e22e">queryParam</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
        <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
      },
      <span style="color:#a6e22e">userInfo</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
        <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">password</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">checkpasswd</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span>
      },
      <span style="color:#a6e22e">newUser</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
        <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">password</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">checkpasswd</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span>
      },
      <span style="color:#a6e22e">visiable</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
      <span style="color:#a6e22e">addUserVisible</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
      <span style="color:#a6e22e">userRules</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> [
          {
            <span style="color:#a6e22e">validator</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">rule</span>, <span style="color:#a6e22e">value</span>, <span style="color:#a6e22e">callback</span>) =&gt; {
              <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">username</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;&#39;</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;请输入用户名&#39;</span>))
              }
              <span style="color:#66d9ef">if</span> ([...<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">username</span>].<span style="color:#a6e22e">length</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">||</span> [...<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">username</span>].<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">12</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;用户名应当在4到12位之间&#39;</span>))
              } <span style="color:#66d9ef">else</span> {
                <span style="color:#a6e22e">callback</span>()
              }
            },
            <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span>
          }
        ],
        <span style="color:#a6e22e">password</span><span style="color:#f92672">:</span> [
          {
            <span style="color:#a6e22e">validator</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">rule</span>, <span style="color:#a6e22e">value</span>, <span style="color:#a6e22e">callback</span>) =&gt; {
              <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">password</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;&#39;</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;请输入密码&#39;</span>))
              }
              <span style="color:#66d9ef">if</span> ([...<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">password</span>].<span style="color:#a6e22e">length</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">6</span> <span style="color:#f92672">||</span> [...<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">password</span>].<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">20</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;密码应当在6到20位之间&#39;</span>))
              } <span style="color:#66d9ef">else</span> {
                <span style="color:#a6e22e">callback</span>()
              }
            },
            <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span>
          }
        ],
        <span style="color:#a6e22e">checkpasswd</span><span style="color:#f92672">:</span> [
          {
            <span style="color:#a6e22e">validator</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">rule</span>, <span style="color:#a6e22e">value</span>, <span style="color:#a6e22e">callback</span>) =&gt; {
              <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">checkpasswd</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;&#39;</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;请输入密码&#39;</span>))
              }
              <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">password</span> <span style="color:#f92672">!==</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">checkpasswd</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;密码不一致，请重新输入&#39;</span>))
              } <span style="color:#66d9ef">else</span> {
                <span style="color:#a6e22e">callback</span>()
              }
            },
            <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span>
          }
        ]
      },
      <span style="color:#a6e22e">addUserRules</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> [
          {
            <span style="color:#a6e22e">validator</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">rule</span>, <span style="color:#a6e22e">value</span>, <span style="color:#a6e22e">callback</span>) =&gt; {
              <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newUser</span>.<span style="color:#a6e22e">username</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;&#39;</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;请输入用户名&#39;</span>))
              }
              <span style="color:#66d9ef">if</span> ([...<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newUser</span>.<span style="color:#a6e22e">username</span>].<span style="color:#a6e22e">length</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">||</span> [...<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newUser</span>.<span style="color:#a6e22e">username</span>].<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">12</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;用户名应当在4到12位之间&#39;</span>))
              } <span style="color:#66d9ef">else</span> {
                <span style="color:#a6e22e">callback</span>()
              }
            },
            <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span>
          }
        ],
        <span style="color:#a6e22e">password</span><span style="color:#f92672">:</span> [
          {
            <span style="color:#a6e22e">validator</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">rule</span>, <span style="color:#a6e22e">value</span>, <span style="color:#a6e22e">callback</span>) =&gt; {
              <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newUser</span>.<span style="color:#a6e22e">password</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;&#39;</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;请输入密码&#39;</span>))
              }
              <span style="color:#66d9ef">if</span> ([...<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newUser</span>.<span style="color:#a6e22e">password</span>].<span style="color:#a6e22e">length</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">6</span> <span style="color:#f92672">||</span> [...<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newUser</span>.<span style="color:#a6e22e">password</span>].<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">20</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;密码应当在6到20位之间&#39;</span>))
              } <span style="color:#66d9ef">else</span> {
                <span style="color:#a6e22e">callback</span>()
              }
            },
            <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span>
          }
        ],
        <span style="color:#a6e22e">checkpasswd</span><span style="color:#f92672">:</span> [
          {
            <span style="color:#a6e22e">validator</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">rule</span>, <span style="color:#a6e22e">value</span>, <span style="color:#a6e22e">callback</span>) =&gt; {
              <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newUser</span>.<span style="color:#a6e22e">checkpasswd</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;&#39;</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;请输入密码&#39;</span>))
              }
              <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newUser</span>.<span style="color:#a6e22e">password</span> <span style="color:#f92672">!==</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newUser</span>.<span style="color:#a6e22e">checkpasswd</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;密码不一致，请重新输入&#39;</span>))
              } <span style="color:#66d9ef">else</span> {
                <span style="color:#a6e22e">callback</span>()
              }
            },
            <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span>
          }
        ]
      },
      <span style="color:#a6e22e">editUserVisible</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
    }
  },
  <span style="color:#a6e22e">created</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getUserList</span>()
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#75715e">// 更改分页
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">handleTableChange</span> (<span style="color:#a6e22e">pagination</span>, <span style="color:#a6e22e">filters</span>, <span style="color:#a6e22e">sorter</span>) {
      <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">pager</span> <span style="color:#f92672">=</span> { ...<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span> }
      <span style="color:#a6e22e">pager</span>.<span style="color:#a6e22e">current</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">current</span>
      <span style="color:#a6e22e">pager</span>.<span style="color:#a6e22e">pageSize</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pageSize</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagesize</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pageSize</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">current</span>
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pageSize</span> <span style="color:#f92672">!==</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span>.<span style="color:#a6e22e">pageSize</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
        <span style="color:#a6e22e">pager</span>.<span style="color:#a6e22e">current</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
      }
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">pagination</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pager</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getUserList</span>()
    },
    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getUserList</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;users&#39;</span>, {
        <span style="color:#a6e22e">params</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">username</span>, <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagesize</span>, <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span> }
      })
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userlist</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span>.<span style="color:#a6e22e">total</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">total</span>
    },
    <span style="color:#75715e">// 删除用户
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">deleteUser</span> (<span style="color:#a6e22e">id</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$confirm</span>({
        <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;提示：请再次确认&#39;</span>,
        <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;要删除该用户吗？一旦删除无法恢复&#39;</span>,
        <span style="color:#a6e22e">onOk</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">async</span> () =&gt; {
          <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">`user/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;删除成功&#39;</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getUserList</span>()
        },
        <span style="color:#a6e22e">onCancel</span><span style="color:#f92672">:</span> () =&gt; {
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">info</span>(<span style="color:#e6db74">&#39;已取消删除&#39;</span>)
        }
      })
    },
    <span style="color:#75715e">// 新增用户
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">addUserOk</span> () {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">addUserRef</span>.<span style="color:#a6e22e">validate</span>(<span style="color:#a6e22e">async</span> (<span style="color:#a6e22e">valid</span>) =&gt; {
        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">valid</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;参数不符合，请重新输入&#39;</span>)
        <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;user/add&#39;</span>, {
          <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newUser</span>.<span style="color:#a6e22e">username</span>,
          <span style="color:#a6e22e">password</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newUser</span>.<span style="color:#a6e22e">password</span>,
          <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newUser</span>.<span style="color:#a6e22e">role</span>
        })
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">addUserRef</span>.<span style="color:#a6e22e">resetFields</span>()
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">addUserVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getUserList</span>()
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;添加用户成功&#39;</span>)
      })
    },
    <span style="color:#a6e22e">addUserCancel</span> () {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">addUserRef</span>.<span style="color:#a6e22e">resetFields</span>()
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">addUserVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">info</span>(<span style="color:#e6db74">&#39;新增已取消&#39;</span>)
    },
    <span style="color:#a6e22e">adminChange</span> (<span style="color:#a6e22e">checked</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">checked</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">role</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
      } <span style="color:#66d9ef">else</span> {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">role</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
      }
    },
    <span style="color:#75715e">// 编辑用户
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">editUser</span> (<span style="color:#a6e22e">id</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">editUserVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">`user/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">id</span>
    },
    <span style="color:#a6e22e">editUserOk</span> () {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">editUserRef</span>.<span style="color:#a6e22e">validate</span>(<span style="color:#a6e22e">async</span> (<span style="color:#a6e22e">valid</span>) =&gt; {
        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">valid</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;参数不符合，请重新输入&#39;</span>)
        <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">`user/</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>, {
          <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">username</span>,
          <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">userInfo</span>.<span style="color:#a6e22e">role</span>
        })
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">editUserRef</span>.<span style="color:#a6e22e">resetFields</span>()
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">editUserVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getUserList</span>()
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;更新用户成功&#39;</span>)
      })
    },
    <span style="color:#a6e22e">editUserCancel</span> () {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">editUserRef</span>.<span style="color:#a6e22e">resetFields</span>()
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">editUserVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">info</span>(<span style="color:#e6db74">&#39;编辑已取消&#39;</span>)
    },
    <span style="color:#75715e">// 重置密码
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">resetPwd</span> (<span style="color:#a6e22e">id</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">info</span>(<span style="color:#e6db74">&#39;功能开发中。。。&#39;</span>)
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;
.<span style="color:#a6e22e">actionSlot</span>{
  <span style="color:#a6e22e">display</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">flex</span>;
  <span style="color:#a6e22e">justify</span><span style="color:#f92672">-</span><span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">center</span>;
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>2、创建个人简介页面<code>src/components/user/ProFile.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">a-card</span>&gt;
      &lt;<span style="color:#f92672">h3</span>&gt;<span style="color:#a6e22e">个人设置</span>&lt;/<span style="color:#f92672">h3</span>&gt;
      &lt;<span style="color:#f92672">a-form-model</span> &gt;
        &lt;<span style="color:#f92672">a-form-model-item</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;作者名称&#34;</span> &gt;
          &lt;<span style="color:#f92672">a-input</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width:300px&#34;</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;profileInfo.name&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-input</span>&gt;
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model-item&gt;</span>
        &lt;<span style="color:#f92672">a-form-model-item</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;个人简介&#34;</span> &gt;
          &lt;<span style="color:#f92672">a-input</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width:300px&#34;</span>  <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;profileInfo.desc&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-input</span>&gt;
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model-item&gt;</span>
        &lt;<span style="color:#f92672">a-form-model-item</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;QQ号码&#34;</span> &gt;
          &lt;<span style="color:#f92672">a-input</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width:300px&#34;</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;profileInfo.qq_chat&#34; &gt;&lt;/a-input&gt;
</span><span style="color:#e6db74">        &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">        &lt;a-form-model-item label=&#34;微信&#34; &gt;
</span><span style="color:#e6db74">          &lt;a-input style=&#34;width:300px&#34; v-model=&#34;profileInfo.wechat&#34;&gt;&lt;/a-input&gt;
</span><span style="color:#e6db74">        &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">        &lt;a-form-model-item label=&#34;微博&#34; &gt;
</span><span style="color:#e6db74">          &lt;a-input style=&#34;width:300px&#34; v-model=&#34;profileInfo.weibo&#34;&gt;&lt;/a-input&gt;
</span><span style="color:#e6db74">        &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">        &lt;a-form-model-item label=&#34;B站名称&#34; &gt;
</span><span style="color:#e6db74">          &lt;a-input style=&#34;width:300px&#34; v-model=&#34;profileInfo.bili&#34;&gt;&lt;/a-input&gt;
</span><span style="color:#e6db74">        &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">        &lt;a-form-model-item label=&#34;邮箱&#34; &gt;
</span><span style="color:#e6db74">          &lt;a-input style=&#34;width:300px&#34; v-model=&#34;profileInfo.email&#34;&gt;&lt;/a-input&gt;
</span><span style="color:#e6db74">        &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">        &lt;a-form-model-item label=&#34;头像&#34; &gt;
</span><span style="color:#e6db74">          &lt;a-upload
</span><span style="color:#e6db74">            name=&#34;file&#34;
</span><span style="color:#e6db74">            :multiple=&#34;false&#34;
</span><span style="color:#e6db74">            :action=&#34;upUrl&#34;
</span><span style="color:#e6db74">            :headers=&#34;headers&#34;
</span><span style="color:#e6db74">            @change=&#34;avatarChange&#34;
</span><span style="color:#e6db74">            listType=&#34;picture&#34;
</span><span style="color:#e6db74">          &gt;
</span><span style="color:#e6db74">            &lt;a-button&gt; &lt;a-icon type=&#34;upload&#34; /&gt; 点击上传 &lt;/a-button&gt;
</span><span style="color:#e6db74">            &lt;br&gt;
</span><span style="color:#e6db74">            &lt;template v-if=&#34;profileInfo.avatar&#34;&gt;
</span><span style="color:#e6db74">              &lt;img :src=&#34;profileInfo.avatar&#34; style=&#34;width:120px;height:100px&#34;&gt;
</span><span style="color:#e6db74">            &lt;/template&gt;
</span><span style="color:#e6db74">          &lt;/a-upload&gt;
</span><span style="color:#e6db74">        &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">        &lt;a-form-model-item label=&#34;背景图&#34; &gt;
</span><span style="color:#e6db74">          &lt;a-upload
</span><span style="color:#e6db74">            name=&#34;file&#34;
</span><span style="color:#e6db74">            :multiple=&#34;false&#34;
</span><span style="color:#e6db74">            :action=&#34;upUrl&#34;
</span><span style="color:#e6db74">            :headers=&#34;headers&#34;
</span><span style="color:#e6db74">            @change=&#34;imgChange&#34;
</span><span style="color:#e6db74">            listType=&#34;picture&#34;
</span><span style="color:#e6db74">          &gt;
</span><span style="color:#e6db74">            &lt;a-button&gt; &lt;a-icon type=&#34;upload&#34; /&gt; 点击上传 &lt;/a-button&gt;
</span><span style="color:#e6db74">            &lt;br&gt;
</span><span style="color:#e6db74">            &lt;template v-if=&#34;profileInfo.img&#34;&gt;
</span><span style="color:#e6db74">              &lt;img :src=&#34;profileInfo.img&#34; style=&#34;width:120px;height:100px&#34;&gt;
</span><span style="color:#e6db74">            &lt;/template&gt;
</span><span style="color:#e6db74">          &lt;/a-upload&gt;
</span><span style="color:#e6db74">        &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">        &lt;a-form-model-item label=&#34;备案号&#34; &gt;
</span><span style="color:#e6db74">          &lt;a-input style=&#34;width:300px&#34; v-model=&#34;profileInfo.icp_record&#34;&gt;&lt;/a-input&gt;
</span><span style="color:#e6db74">        &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">        &lt;a-form-model-item&gt;
</span><span style="color:#e6db74">          &lt;a-button type=&#34;primary&#34;  style=&#34;margin-right:10px&#34; @click=&#34;updateProfile&#34;</span>&gt;<span style="color:#a6e22e">更新</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-button</span>&gt;
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model-item&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-card&gt;</span>
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Url</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../../plugin/http&#39;</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">profileInfo</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">desc</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">qq_chat</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">wechat</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">weibo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">bili</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">email</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">img</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">avatar</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">icp_record</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>
      },
      <span style="color:#a6e22e">upUrl</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Url</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;/upload&#39;</span>,
      <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {}
    }
  },
  <span style="color:#a6e22e">created</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getProfileInfo</span>()
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">headers</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">Authorization</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`Bearer </span><span style="color:#e6db74">${</span>window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;token&#39;</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span> }
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#75715e">// 获取个人设置
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getProfileInfo</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">`profile/</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">profileInfo</span>.<span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">profileInfo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
    },
    <span style="color:#a6e22e">avatarChange</span> (<span style="color:#a6e22e">info</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">file</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;done&#39;</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;图片上传成功&#39;</span>)
        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">imgUrl</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">file</span>.<span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">url</span>
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">profileInfo</span>.<span style="color:#a6e22e">avatar</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">imgUrl</span>
      } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">file</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;error&#39;</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;图片上传失败&#39;</span>)
      }
    },
    <span style="color:#a6e22e">imgChange</span> (<span style="color:#a6e22e">info</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">file</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;done&#39;</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;图片上传成功&#39;</span>)
        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">imgUrl</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">file</span>.<span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">url</span>
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">profileInfo</span>.<span style="color:#a6e22e">img</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">imgUrl</span>
      } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">file</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;error&#39;</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;图片上传失败&#39;</span>)
      }
    },
    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">updateProfile</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">`profile/</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">profileInfo</span>.<span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">profileInfo</span>)
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;个人信息更新成功&#39;</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">&#39;/index&#39;</span>)
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;

&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>3、修改路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Login</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../views/LogIn.vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Admin</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../views/AdminPage.vue&#39;</span>

<span style="color:#75715e">// 页面路由组件
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Index</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/admin/AdminIndex&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">UserList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/user/UserList&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ProFile</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/user/ProFile&#39;</span>

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/login&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;login&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Login</span>
  },
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;admin&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Admin</span>,
    <span style="color:#a6e22e">children</span><span style="color:#f92672">:</span> [
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;index&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Index</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;userlist&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">UserList</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;profile&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ProFile</span> }
    ]
  }
]

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#a6e22e">routes</span>
})

<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;token&#39;</span>)
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">path</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;/login&#39;</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">next</span>()
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">token</span>) {
    <span style="color:#a6e22e">next</span>(<span style="color:#e6db74">&#39;/login&#39;</span>)
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">next</span>()
  }
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><h4 id="添加文章管理页面">添加文章管理页面</h4>
<p>1、创建文章列表页面<code>src/components/article/ArtList.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">h3</span>&gt;<span style="color:#a6e22e">文章列表页面</span>&lt;/<span style="color:#f92672">h3</span>&gt;
    &lt;<span style="color:#f92672">a-card</span>&gt;
      &lt;<span style="color:#f92672">a-row</span> <span style="color:#f92672">:gutter</span><span style="color:#e6db74">=&#34;20&#34;</span>&gt;
        &lt;<span style="color:#f92672">a-col</span> <span style="color:#f92672">:span</span><span style="color:#e6db74">=&#34;6&#34;</span>&gt;
          &lt;<span style="color:#f92672">a-input-search</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;queryParam.title&#34; placeholder=&#34;输入关键字查找&#34; enter-button allowClear @search=&#34;getArtList&#34; /&gt;
</span><span style="color:#e6db74">        &lt;/a-col&gt;
</span><span style="color:#e6db74">        &lt;a-col :span=&#34;4&#34;&gt;
</span><span style="color:#e6db74">          &lt;a-button type=&#34;primary&#34; @click=&#34;$router.push(&#39;/addart&#39;)&#34; &gt;新增&lt;/a-button&gt;
</span><span style="color:#e6db74">        &lt;/a-col&gt;
</span><span style="color:#e6db74">        &lt;a-col :span=&#34;6&#34; </span><span style="color:#f92672">:offset</span><span style="color:#e6db74">=&#34;4&#34;</span>&gt;
          &lt;<span style="color:#f92672">a-select</span> <span style="color:#a6e22e">defaultValue</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;请选择分类&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width:200px&#34;</span> <span style="color:#f92672">@change</span><span style="color:#e6db74">=&#34;CateChange&#34;</span>&gt;
            &lt;<span style="color:#f92672">a-select-option</span> <span style="color:#f92672">v-for</span><span style="color:#e6db74">=&#34;item in CateList&#34; :key=&#34;item.id&#34; :value=&#34;item.id&#34;&gt;{{item.name}}&lt;/a-select-option&gt;
</span><span style="color:#e6db74">          &lt;/a-select&gt;
</span><span style="color:#e6db74">        &lt;/a-col&gt;
</span><span style="color:#e6db74">      &lt;/a-row&gt;
</span><span style="color:#e6db74">      &lt;a-table rowKey=&#34;ID&#34; :columns=&#34;columns&#34; :pagination=&#34;paginationOption&#34; :dataSource=&#34;Artlist&#34; bordered @change=&#34;handleTableChange&#34;&gt;
</span><span style="color:#e6db74">        &lt;span class=&#34;ArtImg&#34; slot=&#34;img&#34; slot-scope=&#34;img&#34;&gt;
</span><span style="color:#e6db74">          &lt;img :src=&#34;img&#34;/&gt;
</span><span style="color:#e6db74">        &lt;/span&gt;
</span><span style="color:#e6db74">        &lt;template slot=&#34;action&#34; slot-scope=&#34;data&#34;&gt;
</span><span style="color:#e6db74">          &lt;div class=&#34;actionSlot&#34;&gt;
</span><span style="color:#e6db74">            &lt;a-button size=&#34;small&#34; type=&#34;primary&#34; icon=&#34;edit&#34; style=&#34;margin-right:15px&#34; @click=&#34;$router.push(`/addart/${data.ID}`)&#34;&gt;编辑&lt;/a-button&gt;
</span><span style="color:#e6db74">            &lt;a-button size=&#34;small&#34; type=&#34;danger&#34; icon=&#34;delete&#34; style=&#34;margin-right:15px&#34;  @click=&#34;deleteArt(data.ID)&#34;</span>&gt;<span style="color:#a6e22e">删除</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-button</span>&gt;
          &lt;/<span style="color:#f92672">div</span>&gt;
        &lt;/<span style="color:#f92672">template</span>&gt;
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-table&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-card&gt;</span>
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">columns</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ID&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ID&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;5%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;id&#39;</span>,
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;分类&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Category.name&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;10%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;name&#39;</span>,
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;文章标题&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;title&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;20%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;title&#39;</span>,
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;文章描述&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;desc&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;20%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;desc&#39;</span>,
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;缩略图&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;img&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;10%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;img&#39;</span>,
    <span style="color:#a6e22e">scopedSlots</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">customRender</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;img&#39;</span> },
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;操作&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;20%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;action&#39;</span>,
    <span style="color:#a6e22e">scopedSlots</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">customRender</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;action&#39;</span> },
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  }
]
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">paginationOption</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">pageSizeOptions</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;5&#39;</span>, <span style="color:#e6db74">&#39;10&#39;</span>, <span style="color:#e6db74">&#39;20&#39;</span>],
        <span style="color:#a6e22e">pageSize</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
        <span style="color:#a6e22e">total</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
        <span style="color:#a6e22e">showSizeChanger</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
        <span style="color:#a6e22e">showTotal</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">total</span>) =&gt; <span style="color:#e6db74">`共</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">total</span><span style="color:#e6db74">}</span><span style="color:#e6db74">条`</span>
      },
      <span style="color:#a6e22e">Artlist</span><span style="color:#f92672">:</span> [],
      <span style="color:#a6e22e">CateList</span><span style="color:#f92672">:</span> [],
      <span style="color:#a6e22e">columns</span>,
      <span style="color:#a6e22e">queryParam</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
        <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
      }
    }
  },
  <span style="color:#a6e22e">created</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getArtList</span>()
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCateList</span>()
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#75715e">// 更改分页
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">handleTableChange</span> (<span style="color:#a6e22e">pagination</span>, <span style="color:#a6e22e">filters</span>, <span style="color:#a6e22e">sorter</span>) {
      <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">pager</span> <span style="color:#f92672">=</span> { ...<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span> }
      <span style="color:#a6e22e">pager</span>.<span style="color:#a6e22e">current</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">current</span>
      <span style="color:#a6e22e">pager</span>.<span style="color:#a6e22e">pageSize</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pageSize</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagesize</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pageSize</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">current</span>
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pageSize</span> <span style="color:#f92672">!==</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span>.<span style="color:#a6e22e">pageSize</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
        <span style="color:#a6e22e">pager</span>.<span style="color:#a6e22e">current</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
      }
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pager</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getArtList</span>()
    },
    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getArtList</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;articles&#39;</span>, {
        <span style="color:#a6e22e">params</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">title</span>, <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagesize</span>, <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span> }
      })
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">Artlist</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span>.<span style="color:#a6e22e">total</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">total</span>
    },
    <span style="color:#75715e">// 删除文章
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">deleteArt</span> (<span style="color:#a6e22e">id</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$confirm</span>({
        <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;提示：请再次确认&#39;</span>,
        <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;要删除该文章吗？一旦删除无法恢复&#39;</span>,
        <span style="color:#a6e22e">onOk</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">async</span> () =&gt; {
          <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">`article/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;删除成功&#39;</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getArtList</span>()
        },
        <span style="color:#a6e22e">onCancel</span><span style="color:#f92672">:</span> () =&gt; {
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">info</span>(<span style="color:#e6db74">&#39;已取消删除&#39;</span>)
        }
      })
    },
    <span style="color:#75715e">// 获取分类列表
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getCateList</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;categorys&#39;</span>)
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">CateList</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#75715e">// this.paginationOption.total = res.total
</span><span style="color:#75715e"></span>    },
    <span style="color:#75715e">// 查询分类下的文章
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">CateChange</span> (<span style="color:#a6e22e">value</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCateArt</span>(<span style="color:#a6e22e">value</span>)
    },
    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getCateArt</span> (<span style="color:#a6e22e">id</span>) {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">`article/catelist/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">Artlist</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span>.<span style="color:#a6e22e">total</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">total</span>
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;
.<span style="color:#a6e22e">actionSlot</span>{
  <span style="color:#a6e22e">display</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">flex</span>;
  <span style="color:#a6e22e">justify</span><span style="color:#f92672">-</span><span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">center</span>;
}
.<span style="color:#a6e22e">ArtImg</span>{
  <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
  <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
}
.<span style="color:#a6e22e">ArtImg</span> <span style="color:#a6e22e">img</span>{
  <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#a6e22e">px</span>;
  <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">80</span><span style="color:#a6e22e">px</span>;
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>2、创建新增文章页面<code>src/components/article/AddArt.vue</code></p>
<p>新增文章和更新文章使用的是同一个页面；有id传过来就是更新文章；</p>
<p>视频中作者用的是<code>tinymce</code>；我这边怎么安装都都不行，换成markdown的库了，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">a-card</span>&gt;
      &lt;<span style="color:#f92672">h3</span>&gt;{{ <span style="color:#a6e22e">id</span><span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;编辑文章&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;新增文章&#39;</span> }}&lt;/<span style="color:#f92672">h3</span>&gt;
      &lt;<span style="color:#f92672">a-form-model</span> <span style="color:#f92672">:model</span><span style="color:#e6db74">=&#34;artInfo&#34;</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;artInfoRef&#34;</span> <span style="color:#f92672">:rules</span><span style="color:#e6db74">=&#34;artInfoRules&#34;</span> <span style="color:#f92672">:hideRequiredMark</span><span style="color:#e6db74">=&#34;true&#34;</span>&gt;
        &lt;<span style="color:#f92672">a-row</span> <span style="color:#f92672">:gutter</span><span style="color:#e6db74">=&#34;24&#34;</span>&gt;
          &lt;<span style="color:#f92672">a-col</span> <span style="color:#f92672">:span</span><span style="color:#e6db74">=&#34;16&#34;</span>&gt;
            &lt;<span style="color:#f92672">a-form-model-item</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;文章标题&#34;</span> <span style="color:#a6e22e">prop</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;title&#34;</span>&gt;
              &lt;<span style="color:#f92672">a-input</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width:300px&#34;</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;artInfo.title&#34;&gt;&lt;/a-input&gt;
</span><span style="color:#e6db74">            &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">            &lt;a-form-model-item label=&#34;文章描述&#34; prop=&#34;desc&#34;&gt;
</span><span style="color:#e6db74">              &lt;a-input type=&#34;textarea&#34;  v-model=&#34;artInfo.desc&#34;&gt;&lt;/a-input&gt;
</span><span style="color:#e6db74">            &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">          &lt;/a-col&gt;
</span><span style="color:#e6db74">          &lt;a-col </span><span style="color:#f92672">:span</span><span style="color:#e6db74">=&#34;8&#34;</span>&gt;
            &lt;<span style="color:#f92672">a-form-model-item</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;文章分类&#34;</span> <span style="color:#a6e22e">prop</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cid&#34;</span>&gt;
              &lt;<span style="color:#f92672">a-select</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width:200px&#34;</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;artInfo.cid&#34; placeholder=&#34;请选择分类&#34; @change=&#34;cateChange&#34;&gt;
</span><span style="color:#e6db74">                &lt;a-select-option v-for=&#34;item in Catelist&#34; :key=&#34;item.id&#34; :value=&#34;item.id&#34;&gt;{{item.name}}&lt;/a-select-option&gt;
</span><span style="color:#e6db74">              &lt;/a-select&gt;
</span><span style="color:#e6db74">            &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">            &lt;a-form-model-item label=&#34;文章缩略图&#34; prop=&#34;img&#34;&gt;
</span><span style="color:#e6db74">              &lt;a-upload
</span><span style="color:#e6db74">                name=&#34;file&#34;
</span><span style="color:#e6db74">                :multiple=&#34;false&#34;
</span><span style="color:#e6db74">                :action=&#34;upUrl&#34;
</span><span style="color:#e6db74">                :headers=&#34;headers&#34;
</span><span style="color:#e6db74">                @change=&#34;upChange&#34;
</span><span style="color:#e6db74">                listType=&#34;picture&#34;
</span><span style="color:#e6db74">              &gt;
</span><span style="color:#e6db74">                &lt;a-button&gt; &lt;a-icon type=&#34;upload&#34; /&gt; 点击上传 &lt;/a-button&gt;
</span><span style="color:#e6db74">                &lt;br&gt;
</span><span style="color:#e6db74">                &lt;template v-if=&#34;id&#34;&gt;
</span><span style="color:#e6db74">                  &lt;img :src=&#34;artInfo.img&#34; style=&#34;width:120px;height:100px&#34;&gt;
</span><span style="color:#e6db74">                &lt;/template&gt;
</span><span style="color:#e6db74">              &lt;/a-upload&gt;
</span><span style="color:#e6db74">            &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">          &lt;/a-col&gt;
</span><span style="color:#e6db74">        &lt;/a-row&gt;
</span><span style="color:#e6db74">        &lt;a-form-model-item label=&#34;文章内容&#34; prop=&#34;content&#34;&gt;
</span><span style="color:#e6db74">          &lt;mavonEditor  ref=&#34;md&#34; v-model=&#34;artInfo.content&#34; @change=&#34;change&#34; @imgAdd=&#34;imgAdd&#34;&gt;&lt;/mavonEditor&gt;
</span><span style="color:#e6db74">        &lt;/a-form-model-item&gt;
</span><span style="color:#e6db74">        &lt;a-form-model-item&gt;
</span><span style="color:#e6db74">          &lt;a-button type=&#34;primary&#34; @click=&#34;artOk(artInfo.id)&#34; style=&#34;margin-right:10px&#34;&gt;{{ artInfo.id ? &#39;更新&#39;:&#39;提交&#39; }}&lt;/a-button&gt;
</span><span style="color:#e6db74">          &lt;a-button type=&#34;danger&#34; @click=&#34;addCancel&#34;</span>&gt;<span style="color:#a6e22e">取消</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-button</span>&gt;
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model-item&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-card&gt;</span>
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Url</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../../plugin/http&#39;</span>
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">mavonEditor</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;mavon-editor&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;mavon-editor/dist/css/index.css&#39;</span>
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">components</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">mavonEditor</span> },
  <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;id&#39;</span>],
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">artInfo</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
        <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">cid</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">undefined</span>,
        <span style="color:#a6e22e">desc</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">img</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>
      },
      <span style="color:#a6e22e">Catelist</span><span style="color:#f92672">:</span> [],
      <span style="color:#a6e22e">upUrl</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Url</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;/upload&#39;</span>,
      <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {},
      <span style="color:#a6e22e">artInfoRules</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> [{ <span style="color:#a6e22e">required</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;请输入文章标题&#39;</span>, <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span> }],
        <span style="color:#a6e22e">cid</span><span style="color:#f92672">:</span> [{ <span style="color:#a6e22e">required</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;请选择文章分类&#39;</span>, <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;change&#39;</span> }],
        <span style="color:#a6e22e">desc</span><span style="color:#f92672">:</span> [
          { <span style="color:#a6e22e">required</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;请输入文章描述&#39;</span>, <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span> },
          { <span style="color:#a6e22e">max</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">120</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;描述最多可写120个字符&#39;</span>, <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;change&#39;</span> }
        ],
        <span style="color:#a6e22e">img</span><span style="color:#f92672">:</span> [{ <span style="color:#a6e22e">required</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;请选择文章缩略图&#39;</span>, <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span> }],
        <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> [{ <span style="color:#a6e22e">required</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;请输入文章内容&#39;</span>, <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span> }]
      }
    }
  },
  <span style="color:#a6e22e">created</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCateList</span>()
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">headers</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">Authorization</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`Bearer </span><span style="color:#e6db74">${</span>window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;token&#39;</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span> }
    <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">id</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getArtInfo</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">id</span>)
    }
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#75715e">// 查询文章信息
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getArtInfo</span> (<span style="color:#a6e22e">id</span>) {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">`article/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artInfo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artInfo</span>.<span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">ID</span>
    },
    <span style="color:#75715e">// 获取分类列表
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getCateList</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;categorys&#39;</span>)
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">Catelist</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
    },
    <span style="color:#75715e">// 选择分类
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">cateChange</span> (<span style="color:#a6e22e">value</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artInfo</span>.<span style="color:#a6e22e">cid</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>
    },
    <span style="color:#75715e">// 上传
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">upChange</span> (<span style="color:#a6e22e">info</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">file</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;done&#39;</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;图片上传成功&#39;</span>)
        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">imgUrl</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">file</span>.<span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">url</span>
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artInfo</span>.<span style="color:#a6e22e">img</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">imgUrl</span>
      } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">file</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;error&#39;</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;图片上传失败&#39;</span>)
      }
    },
    <span style="color:#75715e">// 提交或者更新
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">artOk</span> (<span style="color:#a6e22e">id</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">artInfoRef</span>.<span style="color:#a6e22e">validate</span>(<span style="color:#a6e22e">async</span> (<span style="color:#a6e22e">valid</span>) =&gt; {
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">id</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) {
          <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;article/add&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artInfo</span>)
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">&#39;/artlist&#39;</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;添加文章成功&#39;</span>)
        } <span style="color:#66d9ef">else</span> {
          <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">`article/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artInfo</span>)
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">&#39;/artlist&#39;</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;更新文章成功&#39;</span>)
        }
      })
    },
    <span style="color:#a6e22e">addCancel</span> () {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">artInfoRef</span>.<span style="color:#a6e22e">resetFields</span>()
    },
    <span style="color:#75715e">// 内容图片
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">imgAdd</span> (<span style="color:#a6e22e">pos</span>, <span style="color:#a6e22e">$file</span>) {
      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">formData</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">FormData</span>()
      <span style="color:#a6e22e">formData</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#39;file&#39;</span>, <span style="color:#a6e22e">$file</span>)
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;upload&#39;</span>, <span style="color:#a6e22e">formData</span>)
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">md</span>.<span style="color:#a6e22e">$img2Url</span>(<span style="color:#a6e22e">pos</span>, <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">url</span>)
    },
    <span style="color:#75715e">// 内容
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">change</span> (<span style="color:#a6e22e">value</span>, <span style="color:#a6e22e">render</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artInfo</span>.<span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">render</span>
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><p>3、修改路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Login</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../views/LogIn.vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Admin</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../views/AdminPage.vue&#39;</span>

<span style="color:#75715e">// 页面路由组件
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Index</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/admin/AdminIndex&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">AddArt</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/article/AddArt&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ArtList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/article/ArtList&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">UserList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/user/UserList&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ProFile</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/user/ProFile&#39;</span>

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/login&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;login&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Login</span>
  },
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;admin&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Admin</span>,
    <span style="color:#a6e22e">children</span><span style="color:#f92672">:</span> [
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;index&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Index</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;addart&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">AddArt</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;addart/:id&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">AddArt</span>, <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;artlist&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ArtList</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;userlist&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">UserList</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;profile&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ProFile</span> }
    ]
  }
]

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#a6e22e">routes</span>
})

<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;token&#39;</span>)
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">path</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;/login&#39;</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">next</span>()
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">token</span>) {
    <span style="color:#a6e22e">next</span>(<span style="color:#e6db74">&#39;/login&#39;</span>)
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">next</span>()
  }
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><h4 id="添加分类管理页面">添加分类管理页面</h4>
<p>1、创建分类列表页面<code>src/components/category/CateList.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">h3</span>&gt;<span style="color:#a6e22e">分类列表页面</span>&lt;/<span style="color:#f92672">h3</span>&gt;
    &lt;<span style="color:#f92672">a-card</span>&gt;
      &lt;<span style="color:#f92672">a-row</span> <span style="color:#f92672">:gutter</span><span style="color:#e6db74">=&#34;20&#34;</span>&gt;
        &lt;<span style="color:#f92672">a-col</span> <span style="color:#f92672">:span</span><span style="color:#e6db74">=&#34;4&#34;</span>&gt;
          &lt;<span style="color:#f92672">a-button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;primary&#34;</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;addCateVisible = true&#34;</span>&gt;<span style="color:#a6e22e">新增分类</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-button&gt;</span>
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-col&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-row&gt;</span>
      &lt;<span style="color:#f92672">a-table</span> <span style="color:#a6e22e">rowKey</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;id&#34;</span> <span style="color:#f92672">:columns</span><span style="color:#e6db74">=&#34;columns&#34;</span> <span style="color:#f92672">:pagination</span><span style="color:#e6db74">=&#34;paginationOption&#34;</span> <span style="color:#f92672">:dataSource</span><span style="color:#e6db74">=&#34;Catelist&#34;</span> <span style="color:#a6e22e">bordered</span> <span style="color:#f92672">@change</span><span style="color:#e6db74">=&#34;handleTableChange&#34;</span>&gt;
        &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;action&#34;</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">-scope</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">data</span><span style="color:#960050;background-color:#1e0010">&#34;</span>&gt;
          &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;actionSlot&#34;</span>&gt;
            &lt;<span style="color:#f92672">a-button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;primary&#34;</span> <span style="color:#a6e22e">icon</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;margin-right:15px&#34;</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;editCate(data.id)&#34;</span>&gt;<span style="color:#a6e22e">编辑</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-button</span>&gt;
            &lt;<span style="color:#f92672">a-button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;danger&#34;</span> <span style="color:#a6e22e">icon</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;delete&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;margin-right:15px&#34;</span>  <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;deleteCate(data.id)&#34;</span>&gt;<span style="color:#a6e22e">删除</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-button</span>&gt;
          &lt;/<span style="color:#f92672">div</span>&gt;
        &lt;/<span style="color:#f92672">template</span>&gt;
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-table&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-card&gt;</span>
    <span style="color:#75715e">&lt;!--</span><span style="color:#a6e22e">新增分类区域</span><span style="color:#f92672">--&gt;</span>
    &lt;<span style="color:#f92672">a-modal</span>
      <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;新增分类&#34;</span>
      <span style="color:#f92672">:visible</span><span style="color:#e6db74">=&#34;addCateVisible&#34;</span>
      <span style="color:#f92672">@ok</span><span style="color:#e6db74">=&#34;addCateOk&#34;</span>
      <span style="color:#f92672">@cancel</span><span style="color:#e6db74">=&#34;addCateCancel&#34;</span>
      <span style="color:#a6e22e">destroyOnClose</span>
    &gt;
      &lt;<span style="color:#f92672">a-form-model</span> <span style="color:#f92672">:model</span><span style="color:#e6db74">=&#34;newCate&#34;</span> <span style="color:#f92672">:rules</span><span style="color:#e6db74">=&#34;addCateRules&#34;</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;addCateRef&#34;</span>&gt;
        &lt;<span style="color:#f92672">a-form-model-item</span> <span style="color:#a6e22e">has</span><span style="color:#f92672">-feedback</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;分类名&#34;</span> <span style="color:#a6e22e">prop</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;name&#34;</span>&gt;
          &lt;<span style="color:#f92672">a-input</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;newCate.name&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-input</span>&gt;
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model-item&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-modal&gt;</span>
    <span style="color:#75715e">&lt;!--</span><span style="color:#a6e22e">编辑分类区域</span><span style="color:#f92672">--&gt;</span>
    &lt;<span style="color:#f92672">a-modal</span>
      <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;编辑分类&#34;</span>
      <span style="color:#f92672">:visible</span><span style="color:#e6db74">=&#34;editCateVisible&#34;</span>
      <span style="color:#f92672">@ok</span><span style="color:#e6db74">=&#34;editCateOk&#34;</span>
      <span style="color:#f92672">@cancel</span><span style="color:#e6db74">=&#34;editCateCancel&#34;</span>
    &gt;
      &lt;<span style="color:#f92672">a-form-model</span> <span style="color:#f92672">:model</span><span style="color:#e6db74">=&#34;CateInfo&#34;</span> <span style="color:#f92672">:rules</span><span style="color:#e6db74">=&#34;CateRules&#34;</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;editCateRef&#34;</span>&gt;
        &lt;<span style="color:#f92672">a-form-model-item</span> <span style="color:#a6e22e">has</span><span style="color:#f92672">-feedback</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;分类名&#34;</span> <span style="color:#a6e22e">prop</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;name&#34;</span>&gt;
          &lt;<span style="color:#f92672">a-input</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;CateInfo.name&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-input</span>&gt;
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model-item&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-form-model&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-modal&gt;</span>
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">columns</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ID&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;id&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;10%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;id&#39;</span>,
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;分类名&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;name&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;20%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;name&#39;</span>,
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;操作&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;30%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;action&#39;</span>,
    <span style="color:#a6e22e">scopedSlots</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">customRender</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;action&#39;</span> },
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  }
]
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">paginationOption</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">pageSizeOptions</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;5&#39;</span>, <span style="color:#e6db74">&#39;10&#39;</span>, <span style="color:#e6db74">&#39;20&#39;</span>],
        <span style="color:#a6e22e">pageSize</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
        <span style="color:#a6e22e">total</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
        <span style="color:#a6e22e">showSizeChanger</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
        <span style="color:#a6e22e">showTotal</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">total</span>) =&gt; <span style="color:#e6db74">`共</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">total</span><span style="color:#e6db74">}</span><span style="color:#e6db74">条`</span>
      },
      <span style="color:#a6e22e">Catelist</span><span style="color:#f92672">:</span> [],
      <span style="color:#a6e22e">columns</span>,
      <span style="color:#a6e22e">queryParam</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
        <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
      },
      <span style="color:#a6e22e">CateInfo</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>
      },
      <span style="color:#a6e22e">newCate</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">Catename</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>
      },
      <span style="color:#a6e22e">visiable</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
      <span style="color:#a6e22e">addCateVisible</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
      <span style="color:#a6e22e">CateRules</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> [
          {
            <span style="color:#a6e22e">validator</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">rule</span>, <span style="color:#a6e22e">value</span>, <span style="color:#a6e22e">callback</span>) =&gt; {
              <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">CateInfo</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;&#39;</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;请输入分类名&#39;</span>))
              } <span style="color:#66d9ef">else</span> {
                <span style="color:#a6e22e">callback</span>()
              }
            },
            <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span>
          }
        ]
      },
      <span style="color:#a6e22e">addCateRules</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> [
          {
            <span style="color:#a6e22e">validator</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">rule</span>, <span style="color:#a6e22e">value</span>, <span style="color:#a6e22e">callback</span>) =&gt; {
              <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newCate</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;&#39;</span>) {
                <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;请输入分类名&#39;</span>))
              } <span style="color:#66d9ef">else</span> {
                <span style="color:#a6e22e">callback</span>()
              }
            },
            <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blur&#39;</span>
          }
        ]
      },
      <span style="color:#a6e22e">editCateVisible</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
    }
  },
  <span style="color:#a6e22e">created</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCateList</span>()
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#75715e">// 更改分页
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">handleTableChange</span> (<span style="color:#a6e22e">pagination</span>, <span style="color:#a6e22e">filters</span>, <span style="color:#a6e22e">sorter</span>) {
      <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">pager</span> <span style="color:#f92672">=</span> { ...<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span> }
      <span style="color:#a6e22e">pager</span>.<span style="color:#a6e22e">current</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">current</span>
      <span style="color:#a6e22e">pager</span>.<span style="color:#a6e22e">pageSize</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pageSize</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagesize</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pageSize</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">current</span>
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pageSize</span> <span style="color:#f92672">!==</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span>.<span style="color:#a6e22e">pageSize</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
        <span style="color:#a6e22e">pager</span>.<span style="color:#a6e22e">current</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
      }
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">pagination</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pager</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCateList</span>()
    },
    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getCateList</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;categorys&#39;</span>, {
        <span style="color:#a6e22e">params</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagesize</span>, <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span> }
      })
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">Catelist</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span>.<span style="color:#a6e22e">total</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">total</span>
    },
    <span style="color:#75715e">// 删除分类
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">deleteCate</span> (<span style="color:#a6e22e">id</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$confirm</span>({
        <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;提示：请再次确认&#39;</span>,
        <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;要删除该分类吗？一旦删除无法恢复&#39;</span>,
        <span style="color:#a6e22e">onOk</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">async</span> () =&gt; {
          <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">`category/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;删除成功&#39;</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCateList</span>()
        },
        <span style="color:#a6e22e">onCancel</span><span style="color:#f92672">:</span> () =&gt; {
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">info</span>(<span style="color:#e6db74">&#39;已取消删除&#39;</span>)
        }
      })
    },
    <span style="color:#75715e">// 新增分类
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">addCateOk</span> () {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">addCateRef</span>.<span style="color:#a6e22e">validate</span>(<span style="color:#a6e22e">async</span> (<span style="color:#a6e22e">valid</span>) =&gt; {
        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">valid</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;参数不符合，请重新输入&#39;</span>)
        <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;category/add&#39;</span>, {
          <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">newCate</span>.<span style="color:#a6e22e">name</span>
        })
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">addCateRef</span>.<span style="color:#a6e22e">resetFields</span>()
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">addCateVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
        <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCateList</span>()
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;添加分类成功&#39;</span>)
      })
    },
    <span style="color:#a6e22e">addCateCancel</span> () {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">addCateRef</span>.<span style="color:#a6e22e">resetFields</span>()
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">addCateVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">info</span>(<span style="color:#e6db74">&#39;新增已取消&#39;</span>)
    },
    <span style="color:#75715e">// 编辑分类
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">editCate</span> (<span style="color:#a6e22e">id</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">editCateVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">`category/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">CateInfo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">CateInfo</span>.<span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">id</span>
    },
    <span style="color:#a6e22e">editCateOk</span> () {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">editCateRef</span>.<span style="color:#a6e22e">validate</span>(<span style="color:#a6e22e">async</span> (<span style="color:#a6e22e">valid</span>) =&gt; {
        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">valid</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;参数不符合，请重新输入&#39;</span>)
        <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">`category/</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">CateInfo</span>.<span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>, {
          <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">CateInfo</span>.<span style="color:#a6e22e">name</span>
        })
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">editCateRef</span>.<span style="color:#a6e22e">resetFields</span>()
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">editCateVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCateList</span>()
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;更新分类信息成功&#39;</span>)
      })
    },
    <span style="color:#a6e22e">editCateCancel</span> () {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">editCateRef</span>.<span style="color:#a6e22e">resetFields</span>()
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">editCateVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">info</span>(<span style="color:#e6db74">&#39;编辑已取消&#39;</span>)
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;
.<span style="color:#a6e22e">actionSlot</span>{
  <span style="color:#a6e22e">display</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">flex</span>;
  <span style="color:#a6e22e">justify</span><span style="color:#f92672">-</span><span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">center</span>;
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>2、修改路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Login</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../views/LogIn.vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Admin</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../views/AdminPage.vue&#39;</span>

<span style="color:#75715e">// 页面路由组件
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Index</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/admin/AdminIndex&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">AddArt</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/article/AddArt&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ArtList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/article/ArtList&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">CateList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/category/CateList&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">UserList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/user/UserList&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ProFile</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/user/ProFile&#39;</span>

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/login&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;login&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Login</span>
  },
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;admin&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Admin</span>,
    <span style="color:#a6e22e">children</span><span style="color:#f92672">:</span> [
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;index&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Index</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;addart&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">AddArt</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;addart/:id&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">AddArt</span>, <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;artlist&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ArtList</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;catelist&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">CateList</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;userlist&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">UserList</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;profile&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ProFile</span> }
    ]
  }
]

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#a6e22e">routes</span>
})

<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;token&#39;</span>)
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">path</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;/login&#39;</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">next</span>()
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">token</span>) {
    <span style="color:#a6e22e">next</span>(<span style="color:#e6db74">&#39;/login&#39;</span>)
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">next</span>()
  }
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><h4 id="添加评论管理页面">添加评论管理页面</h4>
<p>1、创建评论列表页面<code>src/components/comment/CommentList.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">h3</span>&gt;<span style="color:#a6e22e">评论管理页面</span>&lt;/<span style="color:#f92672">h3</span>&gt;
    &lt;<span style="color:#f92672">a-card</span>&gt;
      &lt;<span style="color:#f92672">a-table</span> <span style="color:#a6e22e">rowKey</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ID&#34;</span> <span style="color:#f92672">:columns</span><span style="color:#e6db74">=&#34;columns&#34;</span> <span style="color:#f92672">:pagination</span><span style="color:#e6db74">=&#34;paginationOption&#34;</span> <span style="color:#f92672">:dataSource</span><span style="color:#e6db74">=&#34;Commentlist&#34;</span> <span style="color:#a6e22e">bordered</span> <span style="color:#f92672">@change</span><span style="color:#e6db74">=&#34;handleTableChange&#34;</span>&gt;
        &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;status&#34;</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">-scope</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">data</span><span style="color:#960050;background-color:#1e0010">&#34;</span>&gt;{{<span style="color:#a6e22e">data</span><span style="color:#f92672">==</span><span style="color:#ae81ff">1</span><span style="color:#f92672">?</span><span style="color:#e6db74">&#39;审核通过&#39;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;未审核&#39;</span>}}&lt;/<span style="color:#f92672">span</span>&gt;
        &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;action&#34;</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">-scope</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">data</span><span style="color:#960050;background-color:#1e0010">&#34;</span>&gt;
          &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;actionSlot&#34;</span>&gt;
            &lt;<span style="color:#f92672">a-button</span> <span style="color:#a6e22e">size</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;small&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;primary&#34;</span> <span style="color:#a6e22e">icon</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;margin-right:15px&#34;</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;commentCheck(data.ID)&#34;</span>&gt;<span style="color:#a6e22e">通过审核</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-button</span>&gt;
            &lt;<span style="color:#f92672">a-button</span> <span style="color:#a6e22e">size</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;small&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;primary&#34;</span> <span style="color:#a6e22e">icon</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;info&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;margin-right:15px&#34;</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;commentUnCheck(data.ID)&#34;</span>&gt;<span style="color:#a6e22e">撤下评论</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-button</span>&gt;
            &lt;<span style="color:#f92672">a-button</span> <span style="color:#a6e22e">size</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;small&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;danger&#34;</span> <span style="color:#a6e22e">icon</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;delete&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;margin-right:15px&#34;</span>  <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;deleteComment(data.ID)&#34;</span>&gt;<span style="color:#a6e22e">删除</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">a</span><span style="color:#f92672">-button</span>&gt;
          &lt;/<span style="color:#f92672">div</span>&gt;
        &lt;/<span style="color:#f92672">template</span>&gt;
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-table&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a-card&gt;</span>
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">day</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;dayjs&#39;</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">columns</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ID&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ID&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;5%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;id&#39;</span>,
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;创建时间&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;CreatedAt&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;10%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;CreatedAt&#39;</span>,
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>,
    <span style="color:#a6e22e">customRender</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">val</span>) =&gt; {
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">val</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">day</span>(<span style="color:#a6e22e">val</span>).<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#39;YYYY年MM月DD日 HH:mm&#39;</span>) <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;暂无&#39;</span>
    }
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;文章标题&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;article_title&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;20%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;article_title&#39;</span>,
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;评论者&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;username&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;20%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;username&#39;</span>,
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;评论内容&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;content&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;10%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;content&#39;</span>,
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;评论状态&#39;</span>,
    <span style="color:#a6e22e">dataIndex</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;status&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;10%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;status&#39;</span>,
    <span style="color:#a6e22e">scopedSlots</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">customRender</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;status&#39;</span> },
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  },
  {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;操作&#39;</span>,
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;20%&#39;</span>,
    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;action&#39;</span>,
    <span style="color:#a6e22e">scopedSlots</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">customRender</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;action&#39;</span> },
    <span style="color:#a6e22e">align</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>
  }
]
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">paginationOption</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">pageSizeOptions</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;5&#39;</span>, <span style="color:#e6db74">&#39;10&#39;</span>, <span style="color:#e6db74">&#39;20&#39;</span>],
        <span style="color:#a6e22e">pageSize</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
        <span style="color:#a6e22e">total</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
        <span style="color:#a6e22e">showSizeChanger</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
        <span style="color:#a6e22e">showTotal</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">total</span>) =&gt; <span style="color:#e6db74">`共</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">total</span><span style="color:#e6db74">}</span><span style="color:#e6db74">条`</span>
      },
      <span style="color:#a6e22e">Commentlist</span><span style="color:#f92672">:</span> [],
      <span style="color:#a6e22e">CommentInfo</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
      },
      <span style="color:#a6e22e">columns</span>,
      <span style="color:#a6e22e">queryParam</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
        <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
      }
    }
  },
  <span style="color:#a6e22e">created</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCommentList</span>()
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#75715e">// 更改分页
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">handleTableChange</span> (<span style="color:#a6e22e">pagination</span>, <span style="color:#a6e22e">filters</span>, <span style="color:#a6e22e">sorter</span>) {
      <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">pager</span> <span style="color:#f92672">=</span> { ...<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span> }
      <span style="color:#a6e22e">pager</span>.<span style="color:#a6e22e">current</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">current</span>
      <span style="color:#a6e22e">pager</span>.<span style="color:#a6e22e">pageSize</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pageSize</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagesize</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pageSize</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">current</span>
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pageSize</span> <span style="color:#f92672">!==</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span>.<span style="color:#a6e22e">pageSize</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
        <span style="color:#a6e22e">pager</span>.<span style="color:#a6e22e">current</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
      }
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pager</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCommentList</span>()
    },
    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getCommentList</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;comments&#39;</span>, {
        <span style="color:#a6e22e">params</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">title</span>, <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagesize</span>, <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span> }
      })
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) {
        <span style="color:#75715e">// eslint-disable-next-line no-constant-condition
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">1004</span> <span style="color:#f92672">||</span> <span style="color:#ae81ff">1005</span> <span style="color:#f92672">||</span> <span style="color:#ae81ff">1006</span> <span style="color:#f92672">||</span> <span style="color:#ae81ff">1007</span>) {
          window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">clear</span>()
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">&#39;/login&#39;</span>)
        }
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      }
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">Commentlist</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationOption</span>.<span style="color:#a6e22e">total</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">total</span>
    },
    <span style="color:#75715e">// 删除评论
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">deleteComment</span> (<span style="color:#a6e22e">id</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$confirm</span>({
        <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;提示：请再次确认&#39;</span>,
        <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;要删除该评论吗？一旦删除无法恢复&#39;</span>,
        <span style="color:#a6e22e">onOk</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">async</span> () =&gt; {
          <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">`comment/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;删除成功&#39;</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCommentList</span>()
        },
        <span style="color:#a6e22e">onCancel</span><span style="color:#f92672">:</span> () =&gt; {
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">info</span>(<span style="color:#e6db74">&#39;已取消删除&#39;</span>)
        }
      })
    },
    <span style="color:#75715e">// 通过审核
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">commentCheck</span> (<span style="color:#a6e22e">id</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$confirm</span>({
        <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;提示：请再次确认&#39;</span>,
        <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;要通过审核吗&#39;</span>,
        <span style="color:#a6e22e">onOk</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">async</span> () =&gt; {
          <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">resStatus</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">`comment/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">resStatus</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;该评论已处于显示状态，无需审核&#39;</span>)
          <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">`checkcomment/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>, { <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span> })
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;审核成功&#39;</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCommentList</span>()
        },
        <span style="color:#a6e22e">onCancel</span><span style="color:#f92672">:</span> () =&gt; {
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">info</span>(<span style="color:#e6db74">&#39;已取消&#39;</span>)
        }
      })
    },
    <span style="color:#75715e">// 撤销评论
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">commentUnCheck</span> (<span style="color:#a6e22e">id</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$confirm</span>({
        <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;提示：请再次确认&#39;</span>,
        <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;要撤下吗&#39;</span>,
        <span style="color:#a6e22e">onOk</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">async</span> () =&gt; {
          <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">resStatus</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">`comment/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">resStatus</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;该评论已处于未审核状态，无需撤下&#39;</span>)
          <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">`uncheckcomment/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>, { <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span> })
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;评论已撤销&#39;</span>)
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCommentList</span>()
        },
        <span style="color:#a6e22e">onCancel</span><span style="color:#f92672">:</span> () =&gt; {
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">info</span>(<span style="color:#e6db74">&#39;已取消&#39;</span>)
        }
      })
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;
.<span style="color:#a6e22e">actionSlot</span>{
  <span style="color:#a6e22e">display</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">flex</span>;
  <span style="color:#a6e22e">justify</span><span style="color:#f92672">-</span><span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">center</span>;
}
.<span style="color:#a6e22e">CommentImg</span>{
  <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
  <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
}
.<span style="color:#a6e22e">CommentImg</span> <span style="color:#a6e22e">img</span>{
  <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#a6e22e">px</span>;
  <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">80</span><span style="color:#a6e22e">px</span>;
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>2、修改路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Login</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../views/LogIn.vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Admin</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../views/AdminPage.vue&#39;</span>

<span style="color:#75715e">// 页面路由组件
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Index</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/admin/AdminIndex&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">AddArt</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/article/AddArt&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ArtList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/article/ArtList&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">CateList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/category/CateList&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">UserList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/user/UserList&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ProFile</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/user/ProFile&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">CommentList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/comment/CommentList&#39;</span>

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/login&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;login&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Login</span>
  },
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;admin&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Admin</span>,
    <span style="color:#a6e22e">children</span><span style="color:#f92672">:</span> [
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;index&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Index</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;addart&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">AddArt</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;addart/:id&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">AddArt</span>, <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;artlist&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ArtList</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;catelist&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">CateList</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;userlist&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">UserList</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;profile&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ProFile</span> },
      { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;commentlist&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">CommentList</span> }
    ]
  }
]

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#a6e22e">routes</span>
})

<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;token&#39;</span>)
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">path</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;/login&#39;</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">next</span>()
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">token</span>) {
    <span style="color:#a6e22e">next</span>(<span style="color:#e6db74">&#39;/login&#39;</span>)
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">next</span>()
  }
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><p>至此前端页面完成，运行<code>yarn serve</code>进行启动</p>
<h3 id="打包">打包</h3>
<p>1、修改<code>vue.config.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">publicPath</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/admin/&#39;</span>,
  <span style="color:#a6e22e">outputDir</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;dist&#39;</span>,
  <span style="color:#a6e22e">assetsDir</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;static&#39;</span>
}
</code></pre></div><p>2、使用<code>yarn build</code>进行打包；文件会生成到dist文件夹中。</p>
<h2 id="前台页面">前台页面</h2>
<h3 id="搭建环境-1">搭建环境</h3>
<p>使用的环境：</p>
<blockquote>
<p>npm : 6.14.17</p>
<p>node : 14.20.0</p>
<p>yarn : 1.22.19</p>
<p>vue/cli : 5.0.8</p>
</blockquote>
<p>1、`vue create front 使用脚手架创建前台页面的项目</p>
<p>2、ui框架使用的是<code>vuetify</code>；<code>vue add vuetify</code></p>
<h3 id="修改脚手架默认页面-1">修改脚手架默认页面</h3>
<p>1、删除<code>App.vue</code>原先的内容，修改如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">Home</span>&gt;&lt;/<span style="color:#f92672">Home</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Home</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./views/HomeView&#39;</span>
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">components</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">Home</span> }
}
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><p>2、修改<code>main.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">App</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./App.vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">router</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">vuetify</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./plugins/vuetify&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;./plugins/http.js&#39;</span>

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">productionTip</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>

<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
  <span style="color:#a6e22e">router</span>,
  <span style="color:#a6e22e">vuetify</span>,
  <span style="color:#a6e22e">render</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">h</span> =&gt; <span style="color:#a6e22e">h</span>(<span style="color:#a6e22e">App</span>)
}).<span style="color:#a6e22e">$mount</span>(<span style="color:#e6db74">&#39;#app&#39;</span>)

</code></pre></div><h3 id="封装功能-1">封装功能</h3>
<p>1、封装axios；创建<code>src/plugin/http.js</code></p>
<blockquote>
<p>更多拦截器功能参考：</p>
<p><a href="https://www.axios-http.cn/docs/interceptors">https://www.axios-http.cn/docs/interceptors</a></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">axios</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;axios&#39;</span>

<span style="color:#a6e22e">axios</span>.<span style="color:#a6e22e">defaults</span>.<span style="color:#a6e22e">baseURL</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;http://localhost:3000/api/v1&#39;</span>
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">$http</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">axios</span>
</code></pre></div><p>2、导入<code>Vuetify</code> ; 创建<code>src/plugin/vuetify.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vuetify</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vuetify/lib/framework&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Message</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-multiple-message&#39;</span>
<span style="color:#a6e22e">Message</span>.<span style="color:#a6e22e">config</span>({
  <span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">60</span>,
  <span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3000</span>,
  <span style="color:#a6e22e">zIndex</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2000</span>
})
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">$message</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Message</span>
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Vuetify</span>)

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vuetify</span>({
  <span style="color:#a6e22e">breakpoint</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">mobileBreakpoint</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;sm&#39;</span> <span style="color:#75715e">// 等于960
</span><span style="color:#75715e"></span>  }
})

</code></pre></div><p>3、设置路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)
<span style="color:#75715e">// 获取原型对象上的push函数
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">originalPush</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span>
<span style="color:#75715e">// 修改原型对象中的push方法
</span><span style="color:#75715e"></span><span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">push</span> (<span style="color:#a6e22e">location</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">originalPush</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">location</span>).<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span> =&gt; <span style="color:#a6e22e">err</span>)
}
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> []

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#75715e">// mode: &#39;history&#39;,
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 修改刷新404问题
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">mode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hash&#39;</span>,
  <span style="color:#a6e22e">base</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">BASE_URL</span>,
  <span style="color:#a6e22e">routes</span>
})

<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span>) {
    document.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;加载中&#39;</span>
  }
  <span style="color:#a6e22e">next</span>()
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><h3 id="添加主页">添加主页</h3>
<p>1、创建<code>src/views/HomeView.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">v-app</span> <span style="color:#a6e22e">app</span>&gt;
    &lt;<span style="color:#f92672">top-bar</span>&gt;
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/top-bar&gt;</span>
    &lt;<span style="color:#f92672">v-main</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;grey lighten-3&#34;</span>&gt;
      &lt;<span style="color:#f92672">v-container</span>&gt;
        &lt;<span style="color:#f92672">v-row</span>&gt;
          &lt;<span style="color:#f92672">v-col</span> <span style="color:#a6e22e">cols</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;3&#34;</span>&gt;
            &lt;<span style="color:#f92672">Nav</span>&gt;&lt;/<span style="color:#f92672">Nav</span>&gt;
          <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-col&gt;</span>
          &lt;<span style="color:#f92672">v-col</span>&gt;
            &lt;<span style="color:#f92672">v-sheet</span> <span style="color:#a6e22e">min</span><span style="color:#f92672">-height</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">80vh</span><span style="color:#960050;background-color:#1e0010">&#34;</span>  <span style="color:#a6e22e">max</span><span style="color:#f92672">-width</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">80vw</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#a6e22e">rounded</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;lg&#34;</span>&gt;
              &lt;<span style="color:#f92672">router-view</span> <span style="color:#f92672">:key</span><span style="color:#e6db74">=&#34;$route.path&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/router-view&gt;</span>
            <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-sheet&gt;</span>
          <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-col&gt;</span>
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-row&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-container&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-main&gt;</span>
    &lt;<span style="color:#f92672">foo-ter</span>&gt;
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/foo-ter&gt;</span>
  <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-app&gt;</span>
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">TopBar</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/TopBar&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">FooTer</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/FooTer&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Nav</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/NavSide&#39;</span>
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">components</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">TopBar</span>, <span style="color:#a6e22e">FooTer</span>, <span style="color:#a6e22e">Nav</span> }
}
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><p>2、添加头部，<code>src/components/TopBar.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">v-app-bar</span> <span style="color:#a6e22e">mobileBreakpoint</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sm&#34;</span> <span style="color:#a6e22e">app</span> <span style="color:#a6e22e">dark</span> <span style="color:#a6e22e">flat</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;indigo darken-2&#34;</span>&gt;
      &lt;<span style="color:#f92672">v-app-bar-nav-icon</span> <span style="color:#a6e22e">dark</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hidden-md-and-up&#34;</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click.stop</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">drawer </span><span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">!</span><span style="color:#a6e22e">drawer</span><span style="color:#960050;background-color:#1e0010">&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-app-bar-nav-icon&gt;</span>
      &lt;<span style="color:#f92672">v-avatar</span> <span style="color:#a6e22e">size</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;40&#34;</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;grey&#34;</span>&gt;
        &lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;../assets/logo.png&#34;</span> <span style="color:#a6e22e">alt</span> /&gt;
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-avatar&gt;</span>
      &lt;<span style="color:#f92672">v-tabs</span> <span style="color:#a6e22e">dark</span> <span style="color:#a6e22e">center</span><span style="color:#f92672">-active</span> <span style="color:#a6e22e">centered</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hidden-sm-and-down&#34;</span>&gt;
        &lt;<span style="color:#f92672">v-tab</span> <span style="color:#a6e22e">text</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white&#34;</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;$router.push(&#39;/&#39;)&#34;</span>&gt;<span style="color:#a6e22e">首页</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-tab</span>&gt;
        &lt;<span style="color:#f92672">v-tab</span> <span style="color:#a6e22e">text</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white&#34;</span> <span style="color:#f92672">v-for</span><span style="color:#e6db74">=&#34;item in cateList&#34; :key=&#34;item.id&#34; @click=&#34;gotoCate(item.id)&#34;&gt; {{item.name}}&lt;/v-tab&gt;
</span><span style="color:#e6db74">      &lt;/v-tabs&gt;
</span><span style="color:#e6db74">      &lt;v-spacer&gt;&lt;/v-spacer&gt;
</span><span style="color:#e6db74">      &lt;v-responsive  class=&#34;hidden-sm-and-down&#34;  color=&#34;white&#34;&gt;
</span><span style="color:#e6db74">        &lt;v-text-field dense flat hide-details rounded solo-inverted placeholder=&#34;请输入文章标题&#34; append-icon=&#34;mdi-text-search&#34; v-model=&#34;searchName&#34; @change=&#34;searchTitle(searchName)&#34;&gt;&lt;/v-text-field&gt;
</span><span style="color:#e6db74">      &lt;/v-responsive&gt;
</span><span style="color:#e6db74">      &lt;v-dialog max-width=&#34;800&#34;&gt;
</span><span style="color:#e6db74">        &lt;template v-slot:activator=&#34;{ on,attr }&#34;&gt;
</span><span style="color:#e6db74">          &lt;v-btn v-if=&#34;!headers.username&#34; text dark v-bind=&#34;attr&#34; v-on=&#34;on&#34;&gt;请登录&lt;/v-btn&gt;
</span><span style="color:#e6db74">          &lt;v-btn v-if=&#34;headers.username&#34; text dark &gt;欢迎你{{headers.username}}&lt;/v-btn&gt;
</span><span style="color:#e6db74">          &lt;v-btn v-if=&#34;headers.username&#34; class=&#34;hidden-md-and-down&#34; text dark @click=&#34;logout&#34;&gt;退出&lt;/v-btn&gt;
</span><span style="color:#e6db74">        &lt;/template&gt;
</span><span style="color:#e6db74">        &lt;template v-slot:default=&#34;dialog&#34;&gt;
</span><span style="color:#e6db74">          &lt;v-card&gt;
</span><span style="color:#e6db74">            &lt;v-toolbar color=&#34;indigo darken-2&#34; dark&gt;请登录&lt;/v-toolbar&gt;
</span><span style="color:#e6db74">            &lt;v-form ref=&#34;loginformRef&#34; v-model=&#34;valid&#34;&gt;
</span><span style="color:#e6db74">              &lt;v-card-text class=&#34;mt-5&#34;&gt;
</span><span style="color:#e6db74">                &lt;v-text-field hint=&#34;至少4个字符&#34; counter=&#34;12&#34; :rules=&#34;nameRules&#34; label=&#34;请输入用户名&#34; v-model=&#34;formData.username&#34;&gt;&lt;/v-text-field&gt;
</span><span style="color:#e6db74">                &lt;v-text-field hint=&#34;至少6个字符&#34; counter=&#34;20&#34; :rules=&#34;passwordRules&#34; label=&#34;请输入密码&#34; v-model=&#34;formData.password&#34;&gt;&lt;/v-text-field&gt;
</span><span style="color:#e6db74">              &lt;/v-card-text&gt;
</span><span style="color:#e6db74">              &lt;v-card-actions class=&#34;justify-end&#34;&gt;
</span><span style="color:#e6db74">                &lt;v-btn text @click=&#34;login&#34;&gt;确定&lt;/v-btn&gt;
</span><span style="color:#e6db74">                &lt;v-btn text @click=&#34;dialog.value= false&#34;&gt;取消&lt;/v-btn&gt;
</span><span style="color:#e6db74">              &lt;/v-card-actions&gt;
</span><span style="color:#e6db74">            &lt;/v-form&gt;
</span><span style="color:#e6db74">          &lt;/v-card&gt;
</span><span style="color:#e6db74">        &lt;/template&gt;
</span><span style="color:#e6db74">      &lt;/v-dialog&gt;
</span><span style="color:#e6db74">      &lt;v-dialog max-width=&#34;800&#34;&gt;
</span><span style="color:#e6db74">        &lt;template v-slot:activator=&#34;{ on,attr }&#34;&gt;
</span><span style="color:#e6db74">          &lt;v-btn v-if=&#34;!headers.username&#34; text dark v-bind=&#34;attr&#34; v-on=&#34;on&#34;&gt;注册&lt;/v-btn&gt;
</span><span style="color:#e6db74">           &lt;/template&gt;
</span><span style="color:#e6db74">        &lt;template v-slot</span><span style="color:#f92672">:default</span><span style="color:#e6db74">=&#34;dialog&#34;</span>&gt;
            &lt;<span style="color:#f92672">v-form</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;registerRef&#34;</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;registerformvalid&#34;</span>&gt;
              &lt;<span style="color:#f92672">v-card</span>&gt;
              &lt;<span style="color:#f92672">v-toolbar</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;indigo darken-2&#34;</span> <span style="color:#a6e22e">dark</span>&gt;<span style="color:#a6e22e">欢迎注册</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-toolbar&gt;</span>
              &lt;<span style="color:#f92672">v-card-text</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mt-5&#34;</span>&gt;
                &lt;<span style="color:#f92672">v-text-field</span> <span style="color:#a6e22e">hint</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;至少4个字符&#34;</span> <span style="color:#a6e22e">counter</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;12&#34;</span> <span style="color:#f92672">:rules</span><span style="color:#e6db74">=&#34;nameRules&#34;</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;请输入用户名&#34;</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;formData.username&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">v</span><span style="color:#f92672">-text-field</span>&gt;
                &lt;<span style="color:#f92672">v-text-field</span> <span style="color:#a6e22e">hint</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;至少6个字符&#34;</span> <span style="color:#a6e22e">counter</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;20&#34;</span> <span style="color:#f92672">:rules</span><span style="color:#e6db74">=&#34;passwordRules&#34;</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;请输入密码&#34;</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;formData.password&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">v</span><span style="color:#f92672">-text-field</span>&gt;
                &lt;<span style="color:#f92672">v-text-field</span> <span style="color:#a6e22e">hint</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;至少6个字符&#34;</span> <span style="color:#a6e22e">counter</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;20&#34;</span> <span style="color:#f92672">:rules</span><span style="color:#e6db74">=&#34;checkPasswordRules&#34;</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;请确认密码&#34;</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;checkPassword&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">v</span><span style="color:#f92672">-text-field</span>&gt;
              <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-card-text&gt;</span>
              &lt;<span style="color:#f92672">v-card-actions</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;justify-end&#34;</span>&gt;
                &lt;<span style="color:#f92672">v-btn</span> <span style="color:#a6e22e">text</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;register&#34;</span>&gt;<span style="color:#a6e22e">确定</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-btn</span>&gt;
                &lt;<span style="color:#f92672">v-btn</span> <span style="color:#a6e22e">text</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dialog.value= false&#34;</span>&gt;<span style="color:#a6e22e">取消</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-btn&gt;</span>
              <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-card-actions&gt;</span>
              <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-card&gt;</span>
            <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-form&gt;</span>
        &lt;/<span style="color:#f92672">template</span>&gt;
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-dialog&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-app-bar&gt;</span>
    &lt;<span style="color:#f92672">v-navigation-drawer</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;drawer&#34; color=&#34;indigo&#34; dark app temporary&gt;
</span><span style="color:#e6db74">      &lt;v-list&gt;
</span><span style="color:#e6db74">        &lt;v-list-item-title&gt;
</span><span style="color:#e6db74">          &lt;v-btn href=&#34;/&#34; dark text&gt;
</span><span style="color:#e6db74">            &lt;v-icon small&gt;mdi-home&lt;/v-icon&gt;首页
</span><span style="color:#e6db74">          &lt;/v-btn&gt;
</span><span style="color:#e6db74">        &lt;/v-list-item-title&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">        &lt;v-list-item
</span><span style="color:#e6db74">          v-model=&#34;group&#34;
</span><span style="color:#e6db74">          active-class=&#34;deep-purple--text text--accent-4&#34;
</span><span style="color:#e6db74">          v-for=&#34;item in cateList&#34;
</span><span style="color:#e6db74">          :key=&#34;item.id&#34;
</span><span style="color:#e6db74">        &gt;
</span><span style="color:#e6db74">          &lt;v-list-item-title&gt;
</span><span style="color:#e6db74">            &lt;v-btn dark text @click=&#34;gotoCate(item.id)&#34;</span>&gt;{{ <span style="color:#a6e22e">item.name</span> }}<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-btn</span>&gt;
          <span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">v</span><span style="color:#f92672">-list-item-title</span>&gt;
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-list-item&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-list&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-navigation-drawer&gt;</span>
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">drawer</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
      <span style="color:#a6e22e">group</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
      <span style="color:#a6e22e">cateList</span><span style="color:#f92672">:</span> [],
      <span style="color:#a6e22e">searchName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
      <span style="color:#a6e22e">valid</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
      <span style="color:#a6e22e">registerformvalid</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
      <span style="color:#a6e22e">formData</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">password</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>
      },
      <span style="color:#a6e22e">checkPassword</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
      <span style="color:#a6e22e">dialog</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
      <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">Authorization</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>
      },
      <span style="color:#a6e22e">nameRules</span><span style="color:#f92672">:</span> [
        (<span style="color:#a6e22e">v</span>) =&gt; <span style="color:#f92672">!!</span><span style="color:#a6e22e">v</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;用户名不能为空&#39;</span>,
        (<span style="color:#a6e22e">v</span>) =&gt; (<span style="color:#a6e22e">v</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">12</span>) <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;用户名必须在4到12个字符之间&#39;</span>
      ],
      <span style="color:#a6e22e">passwordRules</span><span style="color:#f92672">:</span> [
        (<span style="color:#a6e22e">v</span>) =&gt; <span style="color:#f92672">!!</span><span style="color:#a6e22e">v</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;密码不能为空&#39;</span>,
        (<span style="color:#a6e22e">v</span>) =&gt; (<span style="color:#a6e22e">v</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">6</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">20</span>) <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;密码必须在6到20个字符之间&#39;</span>
      ],
      <span style="color:#a6e22e">checkPasswordRules</span><span style="color:#f92672">:</span> [
        (<span style="color:#a6e22e">v</span>) =&gt; <span style="color:#f92672">!!</span><span style="color:#a6e22e">v</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;密码不能为空&#39;</span>,
        (<span style="color:#a6e22e">v</span>) =&gt; (<span style="color:#a6e22e">v</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">6</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">20</span>) <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;密码必须在6到20个字符之间&#39;</span>,
        (<span style="color:#a6e22e">v</span>) =&gt; <span style="color:#a6e22e">v</span> <span style="color:#f92672">===</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">formData</span>.<span style="color:#a6e22e">password</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;两次密码不一致&#39;</span>
      ]
    }
  },
  <span style="color:#a6e22e">watch</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">group</span> () {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">drawer</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
    }
  },
  <span style="color:#a6e22e">created</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">GetCateList</span>()
  },
  <span style="color:#a6e22e">mounted</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">headers</span> <span style="color:#f92672">=</span> {
      <span style="color:#a6e22e">Authorization</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`Bearer </span><span style="color:#e6db74">${</span>window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;token&#39;</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>,
      <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;username&#39;</span>)
    }
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#75715e">// 获取分类
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">GetCateList</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;categorys&#39;</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">cateList</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
    },
    <span style="color:#a6e22e">searchTitle</span> (<span style="color:#a6e22e">title</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">title</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;还没有输入搜索内容&#39;</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">`/search/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">title</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
    },
    <span style="color:#75715e">// 登录
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">login</span> () {
      <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">loginformRef</span>.<span style="color:#a6e22e">validate</span>()) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;输入数据非法，请检查用户名和密码&#39;</span>)
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;loginfront&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">formData</span>)
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#39;username&#39;</span>, <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>)
      window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#39;user_id&#39;</span>, <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">id</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;登录成功&#39;</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;登录成功&#39;</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">go</span>(<span style="color:#ae81ff">0</span>)
    },
    <span style="color:#75715e">// 退出登录
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">logout</span> () {
      window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">clear</span>(<span style="color:#e6db74">&#39;token&#39;</span>)
      window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">clear</span>(<span style="color:#e6db74">&#39;username&#39;</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;退出成功&#39;</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">go</span>(<span style="color:#ae81ff">0</span>)
    },
    <span style="color:#75715e">// 注册
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">register</span> () {
      <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$refs</span>.<span style="color:#a6e22e">registerRef</span>.<span style="color:#a6e22e">validate</span>()) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;输入数据非法，请检查用户名和密码&#39;</span>)
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;user/add&#39;</span>, {
        <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">formData</span>.<span style="color:#a6e22e">username</span>,
        <span style="color:#a6e22e">password</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">formData</span>.<span style="color:#a6e22e">password</span>,
        <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span>
      })
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;注册成功&#39;</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">go</span>(<span style="color:#ae81ff">0</span>)
    },
    <span style="color:#a6e22e">gotoCate</span> (<span style="color:#a6e22e">cid</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">`/catelist/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">cid</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>).<span style="color:#66d9ef">catch</span>((<span style="color:#a6e22e">err</span>) =&gt; <span style="color:#a6e22e">err</span>)
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;

&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>3、添加底部，<code>src/components/FooTer.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">v-footer</span> <span style="color:#a6e22e">padless</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;indigo darken-2&#34;</span>&gt;
    &lt;<span style="color:#f92672">v-row</span> <span style="color:#a6e22e">justify</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;center&#34;</span> <span style="color:#a6e22e">no</span><span style="color:#f92672">-gutters</span>&gt;
      &lt;<span style="color:#f92672">v-col</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;py-4 text-center white--text&#34;</span> <span style="color:#a6e22e">cols</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;12&#34;</span>&gt;
        {{<span style="color:#66d9ef">new</span> Date().<span style="color:#a6e22e">getFullYear</span>()}} <span style="color:#960050;background-color:#1e0010">——</span> <span style="color:#a6e22e">GinBlog</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-col&gt;</span>
      &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text-center white--text&#34;</span>&gt;
        &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text-center white--text&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://beian.miit.gov.cn/&#34;</span>&gt;{{<span style="color:#a6e22e">icp_record</span>}}&lt;/<span style="color:#f92672">a</span>&gt;
      &lt;/<span style="color:#f92672">div</span>&gt;
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-row&gt;</span>
  <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-footer&gt;</span>
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">icp_record</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>
    }
  },
  <span style="color:#a6e22e">mounted</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$root</span>.<span style="color:#a6e22e">$on</span>(<span style="color:#e6db74">&#39;msg&#39;</span>, (<span style="color:#a6e22e">msg</span>) =&gt; {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">icp_record</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">msg</span>
    })
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;

&lt;/<span style="color:#f92672">style</span>&gt;

</code></pre></div><p>4、添加左侧布局，<code>src/components/NavSide.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">v-card</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mx-auto&#34;</span> <span style="color:#a6e22e">max</span><span style="color:#f92672">-width</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">300px</span><span style="color:#960050;background-color:#1e0010">&#34;</span>&gt;
    &lt;<span style="color:#f92672">v-img</span> <span style="color:#f92672">:src</span><span style="color:#e6db74">=&#34;profileInfo.img&#34;</span>&gt;
      &lt;<span style="color:#f92672">v-card-title</span>&gt;
        &lt;<span style="color:#f92672">v-col</span> <span style="color:#a6e22e">align</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;center&#34;</span>&gt;
          &lt;<span style="color:#f92672">v-avatar</span> <span style="color:#a6e22e">size</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;130&#34;</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;grey&#34;</span>&gt;
            &lt;<span style="color:#f92672">img</span> <span style="color:#f92672">:src</span><span style="color:#e6db74">=&#34;profileInfo.avatar&#34;</span>&gt;
          <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-avatar&gt;</span>
          &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white--text&#34;</span>&gt;{{ <span style="color:#a6e22e">profileInfo</span>.<span style="color:#a6e22e">name</span> }}&lt;/<span style="color:#f92672">div</span>&gt;
        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-col&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-card-title&gt;</span>
      &lt;<span style="color:#f92672">v-divider</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-divider&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-img&gt;</span>
    &lt;<span style="color:#f92672">v-card-title</span>&gt; <span style="color:#a6e22e">About</span> <span style="color:#a6e22e">Me</span><span style="color:#f92672">:&lt;</span><span style="color:#960050;background-color:#1e0010">/v-card-title&gt;</span>
    &lt;<span style="color:#f92672">v-card-text</span>&gt;{{ <span style="color:#a6e22e">profileInfo</span>.<span style="color:#a6e22e">desc</span> }}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-card-text&gt;</span>
    &lt;<span style="color:#f92672">v-divider</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;indigo&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-divider&gt;</span>
    &lt;<span style="color:#f92672">v-list</span> <span style="color:#a6e22e">nav</span> <span style="color:#a6e22e">dense</span>&gt;
      &lt;<span style="color:#f92672">v-list-item</span>&gt;
        &lt;<span style="color:#f92672">v-list-item-icon</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ma-3&#34;</span>&gt;&lt;<span style="color:#f92672">v-icon</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;blue darken-2&#34;</span>&gt;{{<span style="color:#e6db74">&#39;mdi-qqchat&#39;</span>}}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-icon&gt;&lt;/v-list-item-icon&gt;</span>
        &lt;<span style="color:#f92672">v-list-item-content</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;grey--text&#34;</span>&gt;{{ <span style="color:#a6e22e">profileInfo</span>.<span style="color:#a6e22e">qq_chat</span> }}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-list-item-content&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-list-item&gt;</span>
      &lt;<span style="color:#f92672">v-list-item</span>&gt;
        &lt;<span style="color:#f92672">v-list-item-icon</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ma-3&#34;</span>&gt;&lt;<span style="color:#f92672">v-icon</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;green darken-2&#34;</span>&gt;{{<span style="color:#e6db74">&#39;mdi-wechat&#39;</span>}}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-icon&gt;&lt;/v-list-item-icon&gt;</span>
        &lt;<span style="color:#f92672">v-list-item-content</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;grey--text&#34;</span>&gt;{{ <span style="color:#a6e22e">profileInfo</span>.<span style="color:#a6e22e">wechat</span> }}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-list-item-content&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-list-item&gt;</span>
      &lt;<span style="color:#f92672">v-list-item</span>&gt;
        &lt;<span style="color:#f92672">v-list-item-icon</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ma-3&#34;</span>&gt;&lt;<span style="color:#f92672">v-icon</span>  <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;primary&#34;</span>&gt;{{<span style="color:#e6db74">&#39;mdi-youtube&#39;</span>}}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-icon&gt;&lt;/v-list-item-icon&gt;</span>
        &lt;<span style="color:#f92672">v-list-item-content</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;grey--text&#34;</span>&gt;{{ <span style="color:#a6e22e">profileInfo</span>.<span style="color:#a6e22e">bili</span> }}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-list-item-content&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-list-item&gt;</span>
      &lt;<span style="color:#f92672">v-list-item</span>&gt;
        &lt;<span style="color:#f92672">v-list-item-icon</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ma-3&#34;</span>&gt;&lt;<span style="color:#f92672">v-icon</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;orange darken-2&#34;</span>&gt;{{<span style="color:#e6db74">&#39;mdi-sina-weibo&#39;</span>}}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-icon&gt;&lt;/v-list-item-icon&gt;</span>
        &lt;<span style="color:#f92672">v-list-item-content</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;grey--text&#34;</span>&gt;{{ <span style="color:#a6e22e">profileInfo</span>.<span style="color:#a6e22e">weibo</span> }}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-list-item-content&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-list-item&gt;</span>
      &lt;<span style="color:#f92672">v-list-item</span>&gt;
        &lt;<span style="color:#f92672">v-list-item-icon</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ma-3&#34;</span>&gt;&lt;<span style="color:#f92672">v-icon</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;indigo&#34;</span>&gt;{{<span style="color:#e6db74">&#39;mdi-email&#39;</span>}}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-icon&gt;&lt;/v-list-item-icon&gt;</span>
        &lt;<span style="color:#f92672">v-list-item-content</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;grey--text&#34;</span>&gt;{{ <span style="color:#a6e22e">profileInfo</span>.<span style="color:#a6e22e">email</span> }}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-list-item-content&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-list-item&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-list&gt;</span>
  <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-card&gt;</span>
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">profileInfo</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
      }
    }
  },
  <span style="color:#a6e22e">created</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getProfileInfo</span>()
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#75715e">// 获取个人设置
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getProfileInfo</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">`profile/</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">profileInfo</span>.<span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">profileInfo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$root</span>.<span style="color:#a6e22e">$emit</span>(<span style="color:#e6db74">&#39;msg&#39;</span>, <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">icp_record</span>)
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;

&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>5、修改路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)
<span style="color:#75715e">// 获取原型对象上的push函数
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">originalPush</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span>
<span style="color:#75715e">// 修改原型对象中的push方法
</span><span style="color:#75715e"></span><span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">push</span> (<span style="color:#a6e22e">location</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">originalPush</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">location</span>).<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span> =&gt; <span style="color:#a6e22e">err</span>)
}
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;home&#39;</span>,
    <span style="color:#a6e22e">meta</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;欢迎来到GinBlog&#39;</span> }
  }
]

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#75715e">// mode: &#39;history&#39;,
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 修改刷新404问题
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">mode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hash&#39;</span>,
  <span style="color:#a6e22e">base</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">BASE_URL</span>,
  <span style="color:#a6e22e">routes</span>
})

<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span>) {
    document.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;加载中&#39;</span>
  }
  <span style="color:#a6e22e">next</span>()
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><h3 id="添加子组件-1">添加子组件</h3>
<h4 id="添加文章列表">添加文章列表</h4>
<p>1、创建文章列表<code>src/components/ArticleList.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">v-col</span>&gt;
    &lt;<span style="color:#f92672">v-card</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ma-3&#34;</span> <span style="color:#f92672">v-for</span><span style="color:#e6db74">=&#34;item in artList&#34; :key=&#34;item.id&#34; link @click=&#34;$router.push(`detail/${item.ID}`)&#34;&gt;
</span><span style="color:#e6db74">      &lt;v-row no-gutters&gt;
</span><span style="color:#e6db74">        &lt;v-col class=&#34;d-flex justify-center align-center mx-3&#34; cols=&#34;2&#34;&gt;
</span><span style="color:#e6db74">          &lt;v-img  max-width=&#34;100&#34; max-height=&#34;100&#34; :src=&#34;item.img&#34;&gt;&lt;/v-img&gt;
</span><span style="color:#e6db74">        &lt;/v-col&gt;
</span><span style="color:#e6db74">        &lt;v-col&gt;
</span><span style="color:#e6db74">          &lt;v-card-title class=&#34;my-2&#34;&gt;&lt;v-chip color=&#34;pink&#34; label class=&#34;mr-3 white--text&#34;&gt;{{item.Category.name}}&lt;/v-chip&gt;
</span><span style="color:#e6db74">            {{item.title}}
</span><span style="color:#e6db74">          &lt;/v-card-title&gt;
</span><span style="color:#e6db74">          &lt;v-card-subtitle v-text=&#34;item.desc&#34;&gt;&lt;/v-card-subtitle&gt;
</span><span style="color:#e6db74">          &lt;v-divider&gt;&lt;/v-divider&gt;
</span><span style="color:#e6db74">          &lt;v-card-text class=&#34;d-flex align-center&#34;&gt;
</span><span style="color:#e6db74">            &lt;div class=&#34;d-flex align-center&#34;&gt;
</span><span style="color:#e6db74">              &lt;v-icon class=&#34;mr-1&#34; small&gt;mdi-calendar-month&lt;/v-icon&gt;
</span><span style="color:#e6db74">              &lt;span &gt;{{item.CreatedAt | dateformat(&#39;YYYY-MM-DD HH:SS&#39;)}}&lt;/span&gt;
</span><span style="color:#e6db74">            &lt;/div&gt;
</span><span style="color:#e6db74">            &lt;div class=&#34;mx-4 d-flex align-center&#34;&gt;
</span><span style="color:#e6db74">              &lt;v-icon class=&#34;mr-1&#34; small&gt;mdi-comment&lt;/v-icon&gt;
</span><span style="color:#e6db74">              &lt;span&gt;{{item.comment_count}}&lt;/span&gt;
</span><span style="color:#e6db74">            &lt;/div&gt;
</span><span style="color:#e6db74">            &lt;div class=&#34;mx-1 d-flex align-center&#34;&gt;
</span><span style="color:#e6db74">              &lt;v-icon class=&#34;mr-1&#34; small&gt;mdi-eye&lt;/v-icon&gt;
</span><span style="color:#e6db74">              &lt;span&gt;{{item.read_count}}&lt;/span&gt;
</span><span style="color:#e6db74">            &lt;/div&gt;
</span><span style="color:#e6db74">          &lt;/v-card-text&gt;
</span><span style="color:#e6db74">        &lt;/v-col&gt;
</span><span style="color:#e6db74">      &lt;/v-row&gt;
</span><span style="color:#e6db74">    &lt;/v-card&gt;
</span><span style="color:#e6db74">    &lt;div class=&#34;text-center&#34;&gt;
</span><span style="color:#e6db74">      &lt;v-pagination v-model=&#34;queryParam.pagenum&#34; total-visible=&#34;7&#34; :length=&#34;Math.ceil(this.total/queryParam.pagesize)&#34; @input=&#34;getArtList&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-pagination</span>&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
  <span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-col</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">artList</span><span style="color:#f92672">:</span> [],
      <span style="color:#a6e22e">queryParam</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
        <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
      },
      <span style="color:#a6e22e">total</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>
    }
  },
  <span style="color:#a6e22e">created</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getArtList</span>()
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getArtList</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;articles&#39;</span>, {
        <span style="color:#a6e22e">params</span><span style="color:#f92672">:</span> {
          <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagesize</span>, <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span>
        }
      })
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artList</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">total</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">total</span>
      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artList</span>)
      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">total</span>)
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;

&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>2、修改路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ArticleList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/ArticleList&#39;</span>
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)
<span style="color:#75715e">// 获取原型对象上的push函数
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">originalPush</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span>
<span style="color:#75715e">// 修改原型对象中的push方法
</span><span style="color:#75715e"></span><span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">push</span> (<span style="color:#a6e22e">location</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">originalPush</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">location</span>).<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span> =&gt; <span style="color:#a6e22e">err</span>)
}
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;home&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ArticleList</span>,
    <span style="color:#a6e22e">meta</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;欢迎来到GinBlog&#39;</span> }
  }
]

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#75715e">// mode: &#39;history&#39;,
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 修改刷新404问题
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">mode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hash&#39;</span>,
  <span style="color:#a6e22e">base</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">BASE_URL</span>,
  <span style="color:#a6e22e">routes</span>
})

<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span>) {
    document.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;加载中&#39;</span>
  }
  <span style="color:#a6e22e">next</span>()
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><h4 id="添加文章详情">添加文章详情</h4>
<p>1、创建文章详情页面<code>src/components/ArtDetail.vue</code></p>
<p>视频中作者用的是<code>tinymce</code>；我这边怎么安装都都不行，换成markdown的库了，所以前台显示也需要变</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;d-flex justify-center pa-3 text-h4 font-weight-bold&#34;</span>&gt;{{<span style="color:#a6e22e">artInfo</span>.<span style="color:#a6e22e">title</span>}}&lt;/<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;d-flex justify-center align-center&#34;</span>&gt;
      &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;d-flex mx-10 justify-center&#34;</span>&gt;
        &lt;<span style="color:#f92672">v-icon</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mr-1&#34;</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;indigo&#34;</span> <span style="color:#a6e22e">small</span>&gt;<span style="color:#a6e22e">mdi</span><span style="color:#f92672">-</span><span style="color:#a6e22e">calendar</span><span style="color:#f92672">-</span><span style="color:#a6e22e">month</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-icon&gt;</span>
        &lt;<span style="color:#f92672">span</span>&gt;{{<span style="color:#a6e22e">artInfo</span>.<span style="color:#a6e22e">CreatedAt</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">dateformat</span>(<span style="color:#e6db74">&#39;YYYY-MM-DD HH:SS&#39;</span>)}}&lt;/<span style="color:#f92672">span</span>&gt;
      &lt;/<span style="color:#f92672">div</span>&gt;
      &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;d-flex mx-10 justify-center&#34;</span>&gt;
        &lt;<span style="color:#f92672">v-icon</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mr-1&#34;</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pink&#34;</span> <span style="color:#a6e22e">small</span>&gt;<span style="color:#a6e22e">mdi</span><span style="color:#f92672">-</span><span style="color:#a6e22e">comment</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-icon&gt;</span>
        &lt;<span style="color:#f92672">span</span>&gt;{{<span style="color:#a6e22e">total</span>}}&lt;/<span style="color:#f92672">span</span>&gt;
      &lt;/<span style="color:#f92672">div</span>&gt;
      &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;d-flex mx-10 justify-center&#34;</span>&gt;
        &lt;<span style="color:#f92672">v-icon</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mr-1&#34;</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;green&#34;</span> <span style="color:#a6e22e">small</span>&gt;<span style="color:#a6e22e">mdi</span><span style="color:#f92672">-</span><span style="color:#a6e22e">eye</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-icon&gt;</span>
        &lt;<span style="color:#f92672">span</span>&gt;{{<span style="color:#a6e22e">artInfo</span>.<span style="color:#a6e22e">read_count</span>}}&lt;/<span style="color:#f92672">span</span>&gt;
      &lt;/<span style="color:#f92672">div</span>&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">v-divider</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pa-3 ma-3&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-divider&gt;</span>
    &lt;<span style="color:#f92672">v-alert</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ma-4&#34;</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;indigo&#34;</span> <span style="color:#a6e22e">outlined</span> <span style="color:#a6e22e">dark</span> <span style="color:#a6e22e">border</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;left&#34;</span> <span style="color:#a6e22e">elevation</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1&#34;</span>&gt;{{<span style="color:#a6e22e">artInfo</span>.<span style="color:#a6e22e">desc</span>}}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/v-alert&gt;</span>
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;content ma-5 pa-3 text-justify&#34;</span> <span style="color:#f92672">v-html</span><span style="color:#e6db74">=&#34;markdown&#34; v-highlight&gt;&lt;/div&gt;
</span><span style="color:#e6db74">    &lt;v-divider class=&#34;pa-3 ma-3&#34;&gt;&lt;/v-divider&gt;
</span><span style="color:#e6db74">    &lt;v-sheet class=&#34;ma-3 pa-3&#34;&gt;
</span><span style="color:#e6db74">      &lt;div&gt;
</span><span style="color:#e6db74">        &lt;v-list outlined class=&#34;ma-3 pa-3&#34; v-for=&#34;item in commentList&#34; :key=&#34;item.ID&#34; v-show=&#34;item.status===1&#34;&gt;
</span><span style="color:#e6db74">          &lt;template&gt;
</span><span style="color:#e6db74">            &lt;v-list-item&gt;
</span><span style="color:#e6db74">              &lt;v-list-item-content&gt;
</span><span style="color:#e6db74">                &lt;v-list-item-title&gt;
</span><span style="color:#e6db74">                  {{item.name}}
</span><span style="color:#e6db74">                  {{item.CreatedAt | dateformat(&#39;YYYY-MM-DD&#39;)}}
</span><span style="color:#e6db74">                &lt;/v-list-item-title&gt;
</span><span style="color:#e6db74">                &lt;v-list-item-subtitle class=&#34;mr-3&#34;&gt;
</span><span style="color:#e6db74">                  {{item.content}}
</span><span style="color:#e6db74">                &lt;/v-list-item-subtitle&gt;
</span><span style="color:#e6db74">              &lt;/v-list-item-content&gt;
</span><span style="color:#e6db74">            &lt;/v-list-item&gt;
</span><span style="color:#e6db74">          &lt;/template&gt;
</span><span style="color:#e6db74">        &lt;/v-list&gt;
</span><span style="color:#e6db74">      &lt;/div&gt;
</span><span style="color:#e6db74">      &lt;div class=&#34;text-center&#34; v-if=&#34;commentList.length!==0&#34;&gt;
</span><span style="color:#e6db74">        &lt;v-pagination class=&#34;my-2&#34; total-visible=&#34;7&#34; v-model=&#34;queryParam.pagenum&#34; :length=&#34;Math.ceil(total/queryParam.pagesize)&#34; @input=&#34;getComment()&#34;&gt;&lt;/v-pagination&gt;
</span><span style="color:#e6db74">      &lt;/div&gt;
</span><span style="color:#e6db74">      &lt;div&gt;
</span><span style="color:#e6db74">        &lt;template&gt;
</span><span style="color:#e6db74">          &lt;v-card flat&gt;
</span><span style="color:#e6db74">            &lt;v-alert v-if=&#34;!headers.username&#34; class=&#34;ma-3&#34; dense  outlined type=&#34;error&#34;&gt;你还未登录，请登录后留言&lt;/v-alert&gt;
</span><span style="color:#e6db74">            &lt;div v-if=&#34;headers.username&#34;&gt;
</span><span style="color:#e6db74">              &lt;v-textarea class=&#34;mx-3&#34; outlined v-model=&#34;comment.content&#34;&gt;&lt;/v-textarea&gt;
</span><span style="color:#e6db74">              &lt;v-btn class=&#34;ml-3 mb-1&#34; dark color=&#34;indigo&#34; small @click=&#34;pushComment()&#34;</span>&gt;<span style="color:#a6e22e">确定</span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-btn</span>&gt;
            &lt;/<span style="color:#f92672">div</span>&gt;
          <span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-card</span>&gt;
        &lt;/<span style="color:#f92672">template</span>&gt;
      &lt;/<span style="color:#f92672">div</span>&gt;
    <span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-sheet</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#75715e">// import { marked } from &#39;marked&#39;
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">MarkDownIt</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;markdown-it&#39;</span>
<span style="color:#75715e">// marked.setOptions({
</span><span style="color:#75715e">//   renderer: new marked.Renderer(),
</span><span style="color:#75715e">//   highlight: function (code, lang) {
</span><span style="color:#75715e">//     const hljs = require(&#39;highlight.js&#39;)
</span><span style="color:#75715e">//     const language = hljs.getLanguage(lang) ? lang : &#39;plaintext&#39;
</span><span style="color:#75715e">//     return hljs.highlight(code, { language }).value
</span><span style="color:#75715e">//   },
</span><span style="color:#75715e">//   langPrefix: &#39;hljs language-&#39;,
</span><span style="color:#75715e">//   breaks: false,
</span><span style="color:#75715e">//   gfm: true,
</span><span style="color:#75715e">//   headerIds: true,
</span><span style="color:#75715e">//   headerPrefix: &#39;&#39;,
</span><span style="color:#75715e">//   mangle: true,
</span><span style="color:#75715e">//   pedantic: false,
</span><span style="color:#75715e">//   sanitize: false,
</span><span style="color:#75715e">//   silent: false,
</span><span style="color:#75715e">//   smartLists: false,
</span><span style="color:#75715e">//   smartypants: false,
</span><span style="color:#75715e">//   xhtml: false
</span><span style="color:#75715e">// })
</span><span style="color:#75715e"></span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;id&#39;</span>],
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">artInfo</span><span style="color:#f92672">:</span> {},
      <span style="color:#a6e22e">total</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
      <span style="color:#a6e22e">commentList</span><span style="color:#f92672">:</span> [],
      <span style="color:#a6e22e">queryParam</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
        <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
      },
      <span style="color:#a6e22e">comment</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>
      },
      <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">user_id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>
      }
    }
  },
  <span style="color:#a6e22e">created</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getArtInfo</span>()
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getComment</span>()
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">headers</span> <span style="color:#f92672">=</span> {
      <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;username&#39;</span>),
      <span style="color:#a6e22e">user_id</span><span style="color:#f92672">:</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;user_id&#39;</span>)
    }
  },
  <span style="color:#a6e22e">computed</span><span style="color:#f92672">:</span> {
    <span style="color:#75715e">// compiledMarkdown () {
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//   return marked(this.artInfo.content)
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// }
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">markdown</span> () {
      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">md</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">MarkDownIt</span>()
      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">md</span>.<span style="color:#a6e22e">render</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artInfo</span>.<span style="color:#a6e22e">content</span>)
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">result</span>
    }
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getArtInfo</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">`article/</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artInfo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#39;title&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artInfo</span>.<span style="color:#a6e22e">title</span>)
    },
    <span style="color:#75715e">// 获取评论
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getComment</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">`commentsfront/</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>, {
        <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagesize</span>,
        <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span>
      })
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">commentList</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">total</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">total</span>
    },
    <span style="color:#75715e">// 发送评论
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">pushComment</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;comment&#39;</span>, {
        <span style="color:#a6e22e">article_id</span><span style="color:#f92672">:</span> parseInt(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">id</span>),
        <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">comment</span>.<span style="color:#a6e22e">content</span>,
        <span style="color:#a6e22e">user_id</span><span style="color:#f92672">:</span> parseInt(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">headers</span>.<span style="color:#a6e22e">user_id</span>),
        <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">headers</span>.<span style="color:#a6e22e">username</span>
      })
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">message</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>.<span style="color:#a6e22e">success</span>(<span style="color:#e6db74">&#39;评论成功，待审核后显示&#39;</span>)
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">go</span>(<span style="color:#ae81ff">0</span>)
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;
.<span style="color:#a6e22e">content</span> <span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#a6e22e">img</span>,<span style="color:#a6e22e">span</span>,<span style="color:#a6e22e">p</span>{
  <span style="color:#a6e22e">max</span><span style="color:#f92672">-</span><span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>2、修改路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ArticleList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/ArticleList&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ArtDetail</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/ArtDetail&#39;</span>
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)
<span style="color:#75715e">// 获取原型对象上的push函数
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">originalPush</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span>
<span style="color:#75715e">// 修改原型对象中的push方法
</span><span style="color:#75715e"></span><span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">push</span> (<span style="color:#a6e22e">location</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">originalPush</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">location</span>).<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span> =&gt; <span style="color:#a6e22e">err</span>)
}
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;home&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ArticleList</span>,
    <span style="color:#a6e22e">meta</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;欢迎来到GinBlog&#39;</span> }
  },
  { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/detail/:id&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ArtDetail</span>, <span style="color:#a6e22e">meta</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;title&#39;</span>) }, <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> }
]

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#75715e">// mode: &#39;history&#39;,
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 修改刷新404问题
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">mode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hash&#39;</span>,
  <span style="color:#a6e22e">base</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">BASE_URL</span>,
  <span style="color:#a6e22e">routes</span>
})

<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span>) {
    document.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;加载中&#39;</span>
  }
  <span style="color:#a6e22e">next</span>()
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><h4 id="添加分类列表">添加分类列表</h4>
<p>1、创建<code>src/components/CateList.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">v-container</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#f92672">v-if</span><span style="color:#e6db74">=&#34;total ==0 &amp;&amp; isLoad&#34; class=&#34;d-flex justify-center align-center&#34;&gt;
</span><span style="color:#e6db74">      &lt;div&gt;
</span><span style="color:#e6db74">        &lt;v-alert class=&#34;ma-5&#34; dense outlined type=&#34;error&#34;&gt;抱歉，暂无数据&lt;/v-alert&gt;
</span><span style="color:#e6db74">      &lt;/div&gt;
</span><span style="color:#e6db74">    &lt;/div&gt;
</span><span style="color:#e6db74">    &lt;v-sheet&gt;
</span><span style="color:#e6db74">      &lt;v-card class=&#34;ma-3&#34; v-for=&#34;item in artList&#34; :key=&#34;item.id&#34; link @click=&#34;$router.push(`/detail/${item.ID}`)&#34;&gt;
</span><span style="color:#e6db74">        &lt;v-row no-gutters class=&#34;d-flex align-center&#34;&gt;
</span><span style="color:#e6db74">          &lt;v-avatar class=&#34;ma-3 hidden-sm-and-down&#34; size=&#34;123&#34; tile&gt;
</span><span style="color:#e6db74">            &lt;v-img :src=&#34;item.img&#34;&gt;&lt;/v-img&gt;
</span><span style="color:#e6db74">          &lt;/v-avatar&gt;
</span><span style="color:#e6db74">          &lt;v-col&gt;
</span><span style="color:#e6db74">            &lt;v-card-title&gt;
</span><span style="color:#e6db74">              &lt;v-chip color=&#34;purple&#34; outlined label class=&#34;mr-3 white--text&#34;&gt;{{item.Category.name}}&lt;/v-chip&gt;
</span><span style="color:#e6db74">              &lt;div&gt;{{item.title}}&lt;/div&gt;
</span><span style="color:#e6db74">            &lt;/v-card-title&gt;
</span><span style="color:#e6db74">            &lt;v-card-subtitle v-text=&#34;item.desc&#34;&gt;&lt;/v-card-subtitle&gt;
</span><span style="color:#e6db74">            &lt;v-divider class=&#34;mx-4&#34;&gt;&lt;/v-divider&gt;
</span><span style="color:#e6db74">            &lt;v-card-text class=&#34;d-flex align-center&#34;&gt;
</span><span style="color:#e6db74">              &lt;div class=&#34;d-flex align-center&#34;&gt;
</span><span style="color:#e6db74">                &lt;v-icon class=&#34;mr-1&#34; small&gt;mdi-calendar-month&lt;/v-icon&gt;
</span><span style="color:#e6db74">                &lt;span &gt;{{item.CreatedAt | dateformat(&#39;YYYY-MM-DD HH:SS&#39;)}}&lt;/span&gt;
</span><span style="color:#e6db74">              &lt;/div&gt;
</span><span style="color:#e6db74">              &lt;div class=&#34;mx-4 d-flex align-center&#34;&gt;
</span><span style="color:#e6db74">                &lt;v-icon class=&#34;mr-1&#34; small&gt;mdi-comment&lt;/v-icon&gt;
</span><span style="color:#e6db74">                &lt;span&gt;{{item.comment_count}}&lt;/span&gt;
</span><span style="color:#e6db74">              &lt;/div&gt;
</span><span style="color:#e6db74">              &lt;div class=&#34;mx-1 d-flex align-center&#34;&gt;
</span><span style="color:#e6db74">                &lt;v-icon class=&#34;mr-1&#34; small&gt;mdi-eye&lt;/v-icon&gt;
</span><span style="color:#e6db74">                &lt;span&gt;{{item.read_count}}&lt;/span&gt;
</span><span style="color:#e6db74">              &lt;/div&gt;
</span><span style="color:#e6db74">            &lt;/v-card-text&gt;
</span><span style="color:#e6db74">          &lt;/v-col&gt;
</span><span style="color:#e6db74">        &lt;/v-row&gt;
</span><span style="color:#e6db74">      &lt;/v-card&gt;
</span><span style="color:#e6db74">      &lt;v-col&gt;
</span><span style="color:#e6db74">        &lt;div class=&#34;text-center&#34;&gt;
</span><span style="color:#e6db74">          &lt;v-pagination total-visible=&#34;7&#34; v-model=&#34;queryParam.pagenum&#34; :length=&#34;Math.ceil(total/queryParam.pagesize)&#34; @input=&#34;getArtList()&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-pagination</span>&gt;
        &lt;/<span style="color:#f92672">div</span>&gt;
      <span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-col</span>&gt;
    <span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-sheet</span>&gt;
  <span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-container</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;cid&#39;</span>],
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">artList</span><span style="color:#f92672">:</span> [],
      <span style="color:#a6e22e">queryParam</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
        <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
      },
      <span style="color:#a6e22e">total</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
      <span style="color:#a6e22e">isLoad</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
    }
  },
  <span style="color:#a6e22e">created</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getArtList</span>()
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getArtList</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">`article/catelist/</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">cid</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>, {
        <span style="color:#a6e22e">params</span><span style="color:#f92672">:</span> {
          <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagesize</span>,
          <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span>
        }
      })
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artList</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">total</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">total</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isLoad</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;

&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>2、修改路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ArticleList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/ArticleList&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ArtDetail</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/ArtDetail&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">CateList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/CateList&#39;</span>
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)
<span style="color:#75715e">// 获取原型对象上的push函数
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">originalPush</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span>
<span style="color:#75715e">// 修改原型对象中的push方法
</span><span style="color:#75715e"></span><span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">push</span> (<span style="color:#a6e22e">location</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">originalPush</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">location</span>).<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span> =&gt; <span style="color:#a6e22e">err</span>)
}
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;home&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ArticleList</span>,
    <span style="color:#a6e22e">meta</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;欢迎来到GinBlog&#39;</span> }
  },
  { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/detail/:id&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ArtDetail</span>, <span style="color:#a6e22e">meta</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;title&#39;</span>) }, <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> },
  { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/catelist/:cid&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">CateList</span>, <span style="color:#a6e22e">meta</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;分类信息&#39;</span> }, <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> }
]

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#75715e">// mode: &#39;history&#39;,
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 修改刷新404问题
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">mode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hash&#39;</span>,
  <span style="color:#a6e22e">base</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">BASE_URL</span>,
  <span style="color:#a6e22e">routes</span>
})

<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span>) {
    document.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;加载中&#39;</span>
  }
  <span style="color:#a6e22e">next</span>()
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><h4 id="添加搜索标题">添加搜索标题</h4>
<p>1、创建<code>src/components/SearchTitle.vue</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#f92672">v-if</span><span style="color:#e6db74">=&#34;total ==0 &amp;&amp; isLoad&#34; class=&#34;d-flex justify-center align-center&#34;&gt;
</span><span style="color:#e6db74">    &lt;div&gt;
</span><span style="color:#e6db74">      &lt;v-alert class=&#34;ma-5&#34; dense outlined type=&#34;error&#34;&gt;抱歉，你搜索的文章标题不存在&lt;/v-alert&gt;
</span><span style="color:#e6db74">    &lt;/div&gt;
</span><span style="color:#e6db74">  &lt;/div&gt;
</span><span style="color:#e6db74">  &lt;v-col&gt;
</span><span style="color:#e6db74">    &lt;v-card class=&#34;ma-3&#34; v-for=&#34;item in artList&#34; :key=&#34;item.id&#34; link @click=&#34;$router.push(`/detail/${item.ID}`)&#34;&gt;
</span><span style="color:#e6db74">      &lt;v-row no-gutters&gt;
</span><span style="color:#e6db74">        &lt;v-col class=&#34;d-flex justify-center align-center mx-3&#34; cols=&#34;2&#34;&gt;
</span><span style="color:#e6db74">          &lt;v-img  max-width=&#34;100&#34; max-height=&#34;100&#34; :src=&#34;item.img&#34;&gt;&lt;/v-img&gt;
</span><span style="color:#e6db74">        &lt;/v-col&gt;
</span><span style="color:#e6db74">        &lt;v-col&gt;
</span><span style="color:#e6db74">          &lt;v-card-title class=&#34;my-2&#34;&gt;&lt;v-chip color=&#34;pink&#34; label class=&#34;mr-3 white--text&#34;&gt;{{item.Category.name}}&lt;/v-chip&gt;
</span><span style="color:#e6db74">            {{item.title}}
</span><span style="color:#e6db74">          &lt;/v-card-title&gt;
</span><span style="color:#e6db74">          &lt;v-card-subtitle v-text=&#34;item.desc&#34;&gt;&lt;/v-card-subtitle&gt;
</span><span style="color:#e6db74">          &lt;v-divider&gt;&lt;/v-divider&gt;
</span><span style="color:#e6db74">          &lt;v-card-text&gt;
</span><span style="color:#e6db74">            &lt;v-icon&gt;mdi-calendar-month&lt;/v-icon&gt;
</span><span style="color:#e6db74">            &lt;span&gt;{{item.CreatedAt | dateformat(&#39;YYYY-MM-DD HH:SS&#39;)}}&lt;/span&gt;
</span><span style="color:#e6db74">          &lt;/v-card-text&gt;
</span><span style="color:#e6db74">        &lt;/v-col&gt;
</span><span style="color:#e6db74">      &lt;/v-row&gt;
</span><span style="color:#e6db74">    &lt;/v-card&gt;
</span><span style="color:#e6db74">    &lt;div class=&#34;text-center&#34;&gt;
</span><span style="color:#e6db74">      &lt;v-pagination v-model=&#34;queryParam.pagenum&#34; total-visible=&#34;7&#34; :length=&#34;Math.ceil(this.total/queryParam.pagesize)&#34; @input=&#34;getArtList&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-pagination</span>&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
  <span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#f92672">v-col</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;title&#39;</span>],
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">artList</span><span style="color:#f92672">:</span> [],
      <span style="color:#a6e22e">queryParam</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
        <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
      },
      <span style="color:#a6e22e">total</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
      <span style="color:#a6e22e">isLoad</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
    }
  },
  <span style="color:#a6e22e">created</span> () {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getArtList</span>()
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">getArtList</span> () {
      <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;articles&#39;</span>, {
        <span style="color:#a6e22e">params</span><span style="color:#f92672">:</span> {
          <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">title</span>,
          <span style="color:#a6e22e">pagesize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagesize</span>,
          <span style="color:#a6e22e">pagenum</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">queryParam</span>.<span style="color:#a6e22e">pagenum</span>
        }
      })
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">artList</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">total</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">total</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isLoad</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;

&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>2、修改路由，<code>src/router/index.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ArticleList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/ArticleList&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ArtDetail</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/ArtDetail&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">SearchTitle</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/SearchTitle&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">CateList</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../components/CateList&#39;</span>
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)
<span style="color:#75715e">// 获取原型对象上的push函数
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">originalPush</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span>
<span style="color:#75715e">// 修改原型对象中的push方法
</span><span style="color:#75715e"></span><span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">push</span> (<span style="color:#a6e22e">location</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">originalPush</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">location</span>).<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span> =&gt; <span style="color:#a6e22e">err</span>)
}
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">routes</span> <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;home&#39;</span>,
    <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ArticleList</span>,
    <span style="color:#a6e22e">meta</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;欢迎来到GinBlog&#39;</span> }
  },
  { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/detail/:id&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ArtDetail</span>, <span style="color:#a6e22e">meta</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> window.<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#39;title&#39;</span>) }, <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> },
  { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/search/:title&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">SearchTitle</span>, <span style="color:#a6e22e">meta</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;搜索结果&#39;</span> }, <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> },
  { <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/catelist/:cid&#39;</span>, <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">CateList</span>, <span style="color:#a6e22e">meta</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;分类信息&#39;</span> }, <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> }
]

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">router</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#75715e">// mode: &#39;history&#39;,
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 修改刷新404问题
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">mode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hash&#39;</span>,
  <span style="color:#a6e22e">base</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">BASE_URL</span>,
  <span style="color:#a6e22e">routes</span>
})

<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span>) {
    document.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">meta</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;加载中&#39;</span>
  }
  <span style="color:#a6e22e">next</span>()
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">router</span>
</code></pre></div><h3 id="打包-1">打包</h3>
<p>1、修改<code>vue.config.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">transpileDependencies</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;vuetify&#39;</span>],
  <span style="color:#a6e22e">publicPath</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
  <span style="color:#a6e22e">assetsDir</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;static&#39;</span>,
  <span style="color:#a6e22e">outputDir</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;dist&#39;</span>,
  <span style="color:#a6e22e">chainWebpack</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">config</span> =&gt; {
    <span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">plugin</span>(<span style="color:#e6db74">&#39;html&#39;</span>).<span style="color:#a6e22e">tap</span>(<span style="color:#a6e22e">args</span> =&gt; {
      <span style="color:#a6e22e">args</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;欢迎来到GinBlog&#39;</span>
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">args</span>
    })
  },
  <span style="color:#a6e22e">productionSourceMap</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
}
</code></pre></div><p>2、使用<code>yarn build</code>进行打包；文件会生成到dist文件夹中。</p>
<h2 id="部署">部署</h2>
<p>1、如果要把前后端部署在一起，把后端的<code>router.go</code>修改如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">routers</span>

<span style="color:#f92672">import</span> (
	<span style="color:#a6e22e">v1</span> <span style="color:#e6db74">&#34;ginblog/api/v1&#34;</span>
	<span style="color:#e6db74">&#34;ginblog/middleware&#34;</span>
	<span style="color:#e6db74">&#34;ginblog/utils&#34;</span>
	<span style="color:#e6db74">&#34;github.com/gin-contrib/multitemplate&#34;</span>
	<span style="color:#e6db74">&#34;github.com/gin-gonic/gin&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">createMyRender</span>() <span style="color:#a6e22e">multitemplate</span>.<span style="color:#a6e22e">Renderer</span> {
	<span style="color:#a6e22e">p</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">multitemplate</span>.<span style="color:#a6e22e">NewRenderer</span>()
	<span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">AddFromFiles</span>(<span style="color:#e6db74">&#34;admin&#34;</span>, <span style="color:#e6db74">&#34;web/admin/dist/index.html&#34;</span>)
	<span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">AddFromFiles</span>(<span style="color:#e6db74">&#34;front&#34;</span>, <span style="color:#e6db74">&#34;web/front/dist/index.html&#34;</span>)
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">p</span>
}
<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">InitRouter</span>() {
	<span style="color:#a6e22e">gin</span>.<span style="color:#a6e22e">SetMode</span>(<span style="color:#a6e22e">utils</span>.<span style="color:#a6e22e">AppMode</span>)
	<span style="color:#a6e22e">r</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">gin</span>.<span style="color:#a6e22e">New</span>()
	<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">HTMLRender</span> = <span style="color:#a6e22e">createMyRender</span>()
	<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Use</span>(<span style="color:#a6e22e">middleware</span>.<span style="color:#a6e22e">Logger</span>())
	<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Use</span>(<span style="color:#a6e22e">gin</span>.<span style="color:#a6e22e">Recovery</span>())
	<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Use</span>(<span style="color:#a6e22e">middleware</span>.<span style="color:#a6e22e">Cors</span>())
	<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Static</span>(<span style="color:#e6db74">&#34;/static&#34;</span>, <span style="color:#e6db74">&#34;./web/front/dist/static&#34;</span>)
	<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Static</span>(<span style="color:#e6db74">&#34;/admin&#34;</span>, <span style="color:#e6db74">&#34;./web/admin/dist&#34;</span>)
	<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">StaticFile</span>(<span style="color:#e6db74">&#34;/favicon.ico&#34;</span>, <span style="color:#e6db74">&#34;/web/front/dist/favicon.ico&#34;</span>)

	<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;/&#34;</span>, <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">gin</span>.<span style="color:#a6e22e">Context</span>) {
		<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">HTML</span>(<span style="color:#ae81ff">200</span>, <span style="color:#e6db74">&#34;front&#34;</span>, <span style="color:#66d9ef">nil</span>)
	})

	<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;/admin&#34;</span>, <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">gin</span>.<span style="color:#a6e22e">Context</span>) {
		<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">HTML</span>(<span style="color:#ae81ff">200</span>, <span style="color:#e6db74">&#34;admin&#34;</span>, <span style="color:#66d9ef">nil</span>)
	})
	<span style="color:#a6e22e">routerAdmin</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Group</span>(<span style="color:#e6db74">&#34;api/v1&#34;</span>)
	<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">Use</span>(<span style="color:#a6e22e">middleware</span>.<span style="color:#a6e22e">JwtToken</span>())
	{
		<span style="color:#75715e">//用户模块
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">PUT</span>(<span style="color:#e6db74">&#34;user/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">EditUser</span>)
		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">DELETE</span>(<span style="color:#e6db74">&#34;user/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">DeleteUser</span>)
		<span style="color:#75715e">//分类模块
</span><span style="color:#75715e"></span>
		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">POST</span>(<span style="color:#e6db74">&#34;category/add&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">AddCategory</span>)
		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">PUT</span>(<span style="color:#e6db74">&#34;category/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">EditCategory</span>)
		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">DELETE</span>(<span style="color:#e6db74">&#34;category/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">DeleteCategory</span>)
		<span style="color:#75715e">//文章模块
</span><span style="color:#75715e"></span>
		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">POST</span>(<span style="color:#e6db74">&#34;article/add&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">AddArticle</span>)
		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">PUT</span>(<span style="color:#e6db74">&#34;article/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">EditArticle</span>)
		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">DELETE</span>(<span style="color:#e6db74">&#34;article/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">DeleteArticle</span>)
		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">POST</span>(<span style="color:#e6db74">&#34;upload&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">UpLoad</span>)
		<span style="color:#75715e">//个人设置
</span><span style="color:#75715e"></span>
		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">PUT</span>(<span style="color:#e6db74">&#34;profile/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">UpdateProfile</span>)
		<span style="color:#75715e">//评论模块
</span><span style="color:#75715e"></span>		<span style="color:#75715e">// 评论模块
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;comments&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">GetCommentList</span>)
		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">DELETE</span>(<span style="color:#e6db74">&#34;comment/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">DeleteComment</span>)
		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">PUT</span>(<span style="color:#e6db74">&#34;checkcomment/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">CheckComment</span>)
		<span style="color:#a6e22e">routerAdmin</span>.<span style="color:#a6e22e">PUT</span>(<span style="color:#e6db74">&#34;uncheckcomment/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">UncheckComment</span>)
	}
	<span style="color:#a6e22e">router</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Group</span>(<span style="color:#e6db74">&#34;api/v1&#34;</span>)
	{
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">POST</span>(<span style="color:#e6db74">&#34;user/add&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">AddUser</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;users&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">GetUsers</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;user/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">GetUserInfo</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;categorys&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">GetCategorys</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;category/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">GetCateInfo</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;articles&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">GetArticles</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;article/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">GetArtInfo</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;article/catelist/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">GetCateArt</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">POST</span>(<span style="color:#e6db74">&#34;login&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">Login</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">POST</span>(<span style="color:#e6db74">&#34;loginfront&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">LoginFront</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;profile/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">GetProfile</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">POST</span>(<span style="color:#e6db74">&#34;comment&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">AddComment</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;comment/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">GetComment</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;commentsfront/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">GetCommentListFront</span>)
		<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;commentcount/:id&#34;</span>, <span style="color:#a6e22e">v1</span>.<span style="color:#a6e22e">GetCommentCount</span>)
	}

	<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">utils</span>.<span style="color:#a6e22e">HttpPort</span>)
}
</code></pre></div><p>2、将后端生成的ginblog可执行文件，以及config和web按照如下结构进行部署：</p>
<p>将管理页面和前台页面的dist分别放在web页面下。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tex" data-lang="tex">目录
│  ginblog
│
├─config
│      config.ini
│
├─log
│
└─web
    ├─admin
    │  └─dist
    │      │  favicon.ico
    │      │  index.html
    │      │
    │      └─static
    │          ├─css
    │          │      app.690e487c.css
    │          │      chunk-vendors.ec6cd9fe.css
    │          │
    │          ├─fonts
    │          │      fontello.3f1fdcf0.ttf
    │          │      fontello.6c502925.eot
    │          │      fontello.6ec73abf.woff
    │          │
    │          ├─img
    │          │      fontello.d34249f0.svg
    │          │
    │          └─js
    │                  app.9e9fc190.js
    │                  app.9e9fc190.js.map
    │                  chunk-vendors.d1e6e630.js
    │                  chunk-vendors.d1e6e630.js.map
    │
    └─front
        └─dist
            │  favicon.ico
            │  index.html
            │
            └─static
                ├─css
                │      app.78e1c8f6.css
                │      chunk-vendors.915f10ff.css
                │
                └─js
                        app.657687d2.js
                        chunk-vendors.0c1eaf09.js
</code></pre></div>
    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
